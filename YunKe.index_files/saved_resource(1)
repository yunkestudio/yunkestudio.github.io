/** userscript-wrapper - v1.2.6 - 6/27/2020 */
"use strict";(function(){var k,aa,ba,ca,da,ea,fa,m=Object.defineProperty,n=Object.getOwnPropertyDescriptor,ha=Object.getOwnPropertyNames,ia=Object.getOwnPropertySymbols,ja=Object.getPrototypeOf,ka=Function.prototype.apply,r="undefined"!==typeof Reflect?Reflect.apply:function(a,b,c){return ka.call(a,b,c)},na=XMLHttpRequest,oa=XMLHttpRequest.prototype.open,pa=XMLHttpRequest.prototype.send;
if("function"===typeof WebSocket){fa=WebSocket;var t=fa.prototype;ea=t.send;da=n(t,"onmessage");ca=n(t,"onopen");ba=n(t,"onclose");aa=n(t,"readyState")}var qa=fa,ra=ea,sa=da,ta=ca,ua=ba,va=aa,wa=JSON.parse,xa=JSON.stringify,v=window,x=v.document;function ya(){}function y(a,b){if(!a)return ya;var c=a[b];return function(){if(c)return r(c,a,arguments)}}
var za=v.console,z=y(za,"log"),Aa=y(za,"warn"),Ba=y(za,"error"),A=String.prototype.charCodeAt,Ca=Array.prototype.reduce,Da=v.escape,B=v.encodeURIComponent,Ea=v.decodeURIComponent,Fa=y(v,"open"),E=y(v,"addEventListener"),F=y(v,"removeEventListener"),Ga=v.requestIdleCallback,Ha=v.cancelIdleCallback,G=x.appendChild,Ia=x.removeChild,H=y(x,"createElement"),I="undefined"!==typeof Document?function(){var a=n(Document.prototype,"readyState").get;return function(){return r(a,x,[])}}():function(){},J=x.documentMode;var Ja="local.adguard.org",K="local.adguard.org";;var L=Ja,Ka=0,M={},La=0,Ma=0;function Na(){var a=x.location;return a.hostname+("80"==a.port||""==a.port?"":":"+a.port)}
function Pa(a){if(null===a||void 0===a)return"";var b=x.location;try{var c=new URL("b","http://a");c.pathname="c%20d";var d="http://a/c%20d"===c.href&&c.searchParams}catch(f){d=!1}if(d)return(new URL(a,b.href)).href;if(a.startsWith("http"))return a;if(a.startsWith("/"))return x.location.protocol+"//"+Na()+a;d=b.href;if(d.endsWith("/"))return d+a;b=b.pathname.split("/");b.pop();return x.location.protocol+"//"+Na()+b.join("/")+"/"+a}
function Qa(a){var b=x.location.protocol+"//"+K+"/adguard-ajax-api/api";a=Ra(a);var c=new na;c.open=oa;c.send=pa;c.open("POST",b,!0);c.send(a)}
function Sa(a,b){var c=x.location.protocol+"//"+K+"/adguard-ajax-api/api";c=c+"?"+Ra(a);var d=new na;d.open=oa;d.send=pa;d.open("GET",c,!0);d.onload=function(){if(4==d.readyState){200!=d.status&&z("Error while sending sendGetRequestAsync. Status:"+d.statusText);var a=null;try{a=wa(d.responseText)}catch(e){z("Error while parsing responseText: "+e)}b(a,d.status)}};d.onerror=function(){z("Error while sending sendGetRequestAsync. Status:"+d.statusText);b(null,d.status)};d.send()}
function Ta(){var a=new qa(""+("https:"==document.location.protocol?"wss://":"ws://")+L+"/adguard-ws-api/api");m(a,"onmessage",sa);m(a,"onopen",ta);m(a,"onclose",ua);m(a,"readyState",va);return a}function Ua(a){if(a.readyState===a.OPEN){var b=Va();b.type="ping";ra.call(a,xa({type:"action",payload:b}))}else if(a.readyState===a.CLOSED)return;setTimeout(function(){return Ua(a)},1E4)}
function Wa(){return new Promise(function(a,b){var c=Ta();c.onmessage=function(a){a=wa(a.data);if(a.payload.error)z("Error received: "+a.payload.error),M[a.payload.actionId]&&(M[a.payload.actionId].reject(a.payload.error),delete M[a.payload.actionId]);else return M[a.payload.actionId]&&(M[a.payload.actionId].resolve(a),delete M[a.payload.actionId]),!1};c.onopen=function(){a(c);setTimeout(function(){return Ua(c)},10)};c.onclose=function(a){b(c);Object.keys(M).forEach(function(c){return M[c].reject(a)});
M={};20<Ma||(setTimeout(Wa,La),La+=500,Ma+=1);z("WebSocket connection is closed: "+a.code+" : "+a.reason)};return c})}function Xa(a){return function(){try{a.apply(this,arguments)}catch(b){z("Error while executing callback: "+b)}}}var Ya;function Za(){return"undefined"!==typeof Ya?Promise.resolve(Ya):Wa().then(function(a){return Ya=a})}function Va(){Ka++;return{actionId:Ka,token:"29c8280a-9dc3-4a41-bad2-3274367c7d67"}}
function N(a,b){b=void 0===b?function(){}:b;b=Xa(b);L&&"function"===typeof qa?$a(a).then(function(a){var c=b;a=a.payload&&a.payload.data?a.payload.data:a;if("string"===typeof a)try{a=wa(a)}catch(f){a={error:f.toString()}}return c(a,null)}).catch(function(){return Sa(a,b)}):Sa(a,b)}function $a(a){return Za().then(function(b){var c=Va();Object.keys(a).forEach(function(b){c[b]=a[b]});var d=xa({payload:c,type:"action"});ra.call(b,d);M[c.actionId]=ab();return M[c.actionId].m})}
function bb(a){function b(a,c){return a[d(c)]}function c(a,c,b){a[d(c)]=b}function d(a){return"b1ac7a5523554d6e"+a+"a818964086af49bfad155179"}function f(a){for(var c="",b,d=7;0<=d;d--)b=a>>>4*d&15,c+=b.toString(16);return c}function e(a,c){return c>>>a|c<<32-a}for(var g=["type","unique_name","variable_key","variable_value","url"],l="",q=0;q<g.length;q++){var C=a[g[q]];"undefined"!=typeof C&&(l+=C)}return l=function(a){var d={};c(d,0,1116352408);c(d,1,1899447441);c(d,2,3049323471);c(d,3,3921009573);c(d,4,961987163);
c(d,5,1508970993);c(d,6,2453635748);c(d,7,2870763221);c(d,8,3624381080);c(d,9,310598401);c(d,10,607225278);c(d,11,1426881987);c(d,12,1925078388);c(d,13,2162078206);c(d,14,2614888103);c(d,15,3248222580);c(d,16,3835390401);c(d,17,4022224774);c(d,18,264347078);c(d,19,604807628);c(d,20,770255983);c(d,21,1249150122);c(d,22,1555081692);c(d,23,1996064986);c(d,24,2554220882);c(d,25,2821834349);c(d,26,2952996808);c(d,27,3210313671);c(d,28,3336571891);c(d,29,3584528711);c(d,30,113926993);c(d,31,338241895);
c(d,32,666307205);c(d,33,773529912);c(d,34,1294757372);c(d,35,1396182291);c(d,36,1695183700);c(d,37,1986661051);c(d,38,2177026350);c(d,39,2456956037);c(d,40,2730485921);c(d,41,2820302411);c(d,42,3259730800);c(d,43,3345764771);c(d,44,3516065817);c(d,45,3600352804);c(d,46,4094571909);c(d,47,275423344);c(d,48,430227734);c(d,49,506948616);c(d,50,659060556);c(d,51,883997877);c(d,52,958139571);c(d,53,1322822218);c(d,54,1537002063);c(d,55,1747873779);c(d,56,1955562222);c(d,57,2024104815);c(d,58,2227730452);
c(d,59,2361852424);c(d,60,2428436474);c(d,61,2756734187);c(d,62,3204031479);c(d,63,3329325298);var h={};c(h,0,1779033703);c(h,1,3144134277);c(h,2,1013904242);c(h,3,2773480762);c(h,4,1359893119);c(h,5,2600822924);c(h,6,528734635);c(h,7,1541459225);a+=String.fromCharCode(128);var g=(a.length/4+2)/16;for(var l=0;l<=g+1&&!(l>=g);l++);g=l;l={};for(var w=0;w<g;w++){c(l,w,{});for(var p=0;16>p;p++){var u=A.call(a,64*w+4*p)<<24|A.call(a,64*w+4*p+1)<<16|A.call(a,64*w+4*p+2)<<8|A.call(a,64*w+4*p+3);c(b(l,w),
p,u)}}c(b(l,g-1),14,8*(a.length-1)/Math.pow(2,32));c(b(l,g-1),14,Math.floor(b(b(l,g-1),14)));c(b(l,g-1),15,8*(a.length-1)&4294967295);a={};for(w=0;w<g;w++){for(p=0;16>p;p++)c(a,p,b(b(l,w),p));for(p=16;64>p;p++){u=b(a,p-15);var q=b(a,p-2);c(a,p,(e(17,q)^e(19,q)^q>>>10)+b(a,p-7)+(e(7,u)^e(18,u)^u>>>3)+b(a,p-16)&4294967295)}u=b(h,0);q=b(h,1);var C=b(h,2);var la=b(h,3);var D=b(h,4);var X=b(h,5);var Y=b(h,6);var ma=b(h,7);for(p=0;64>p;p++){var Oa=ma+(e(6,D)^e(11,D)^e(25,D))+(D&X^~D&Y)+b(d,p)+b(a,p),ub=
(e(2,u)^e(13,u)^e(22,u))+(u&q^u&C^q&C);ma=Y;Y=X;X=D;D=la+Oa&4294967295;la=C;C=q;q=u;u=Oa+ub&4294967295}c(h,0,b(h,0)+u&4294967295);c(h,1,b(h,1)+q&4294967295);c(h,2,b(h,2)+C&4294967295);c(h,3,b(h,3)+la&4294967295);c(h,4,b(h,4)+D&4294967295);c(h,5,b(h,5)+X&4294967295);c(h,6,b(h,6)+Y&4294967295);c(h,7,b(h,7)+ma&4294967295)}d=""+f(b(h,0));d+=f(b(h,1));d+=f(b(h,2));d+=f(b(h,3));d+=f(b(h,4));d+=f(b(h,5));d+=f(b(h,6));return d+=f(b(h,7))}(d(l))}
function Ra(a,b){var c="",d;for(d in a)if(a.hasOwnProperty(d)){var f=a[d];c&&(c+="&");c+=d;c+="=";c=b&&b[d]?c+f:c+B(f)}c&&(c+="&");return c+="sn="+bb(a)}function cb(a){if("object"==typeof a){var b="",c;for(c in a)b+=B(c)+":"+B(a[c])+",";return b.slice(0,-1)}return"string"==typeof a?B(a):null}function db(a,b){return{readyState:a.readyState,responseHeaders:a.getAllResponseHeaders(),responseText:a.responseText,status:a.status,statusText:a.statusText,context:b,finalUrl:a.responseURL}}
function eb(a){if("undefined"==typeof a)return a;if(""!=a&&null!=a){try{if(0==a.indexOf("[I;"))return parseInt(a.substring(3));if(0==a.indexOf("[B;"))return"true"===a.substring(3);if(0==a.indexOf("[LString;"))return a.substring(9);if(0==a.indexOf("[O;"))return JSON.parse(a.substring(3))}catch(b){z("Cannot convert value from GM property: "+b)}return a}}function ab(){var a={m:null,resolve:null,reject:null};a.m=new Promise(function(b,c){a.resolve=b;a.reject=c});return a};var fb={};function gb(a){var b=fb[a];"undefined"===typeof b&&(b=fb[a]=hb());return b}function ib(a,b,c){var d=n(a,c);d&&d.configurable&&(d.value=a[c],m(b,c,d))}var O=[];function P(a){if(a){var b=function(){var c=O.indexOf(this),b=r(a,-1===c?this:v,arguments);return-1!==c&&b===v?O[c]:b};ib(a,b,"name");ib(a,b,"length");return b}}var Q=[];function jb(a,b){return function(){var c=O.indexOf(this);return-1!==c?(c=Q[c][b],"undefined"===typeof c?null:c):r(a,this,[])}}
function kb(a,b){return function(c){var d=O.indexOf(this);if(-1!==d){var f=Q[d][b];"function"===typeof f&&this.removeEventListener(b,f);"function"!==typeof c?Q[d][b]=null:(this.addEventListener(b,c),Q[d][b]=c)}else r(a,this,[c])}}var lb=/^on/;
function mb(a,b){if(a.hasOwnProperty("writable"))switch(b=a.value,typeof b){case "function":a.enumerable&&(a.value=P(b));break;case "object":b===v&&(a=null)}else"string"===typeof b&&lb.test(b)?(b=b.slice(2),a.get=jb(a.get,b),a.set=kb(a.set,b)):(a.get=P(a.get),a.set=P(a.set));return a}var nb=!1,ob,pb=[],R=[[],[],[],[],[],[],[],[],[],[],[],[]],qb=[];function S(a){a|=0;var b={configurable:1===(a&1),enumerable:2===(a&2)};if(a&8)return b;b.writable=4===(a&4);return b}
function rb(){for(var a=v,b=ha(v),c={webkitStorageInfo:!0,webkitIndexedDB:!0,mozHidden:!0,mozVisibilityState:!0,webkitURL:!0},d=b.length;0!==d--;){var f=b[d];if(!0!==c[f]){var e=n(v,f);var g=0;e.configurable&&(g+=1);e.enumerable&&(g+=2);switch(e.writable){case void 0:g+=8;break;case !0:g+=4}if(g&8&&lb.test(f))pb.push(f);else{if(g&2)if(e.value===v)continue;else if("function"===typeof e.value){qb.push(f);continue}R[g].push(f)}}}b=[];for(a=ja(a);a!==Object.prototype;)b.push(a),a=ja(a);d=b.length;for(a=
{};0!==d--;){a=Object.create(a);c=b[d];f=ha(c);for(e=f.length;0!==e--;){g=f[e];var l=n(c,g);l=mb(l,g);null!==l&&m(a,g,l)}if(ia)for(f=ia(c),e=f.length;0!==e--;)g=f[e],l=n(c,g),l=mb(l,g),null!==l&&m(a,g,l)}ob=a;nb=!0}var sb=["frames","self","window","parent","top"];
function hb(){nb||rb();Q.push(Object.create(null));var a=Object.create(ob);O.push(a);for(var b=0;8>b;b++)for(var c=S(b),d=R[b].length;0!==d--;){var f=R[b][d];c.value=v[f];m(a,f,c)}if(!(11>J))for(;12>b;b++)if(!(11>J))for(c=S(b),d=R[b].length;0!==d--;){f=R[b][d];var e=v.__lookupGetter__(f),g=v.__lookupSetter__(f);c.get=P(e);c.set=P(g);m(a,f,c)}b=qb.length;for(c=S(7);0!==b--;)d=qb[b],c.value=P(v[d]),m(a,d,c);if(!(11>J))for(b=pb.length,c=S(11);0!==b--;)d=pb[b],f=d.slice(2),e=v.__lookupGetter__(d),g=v.__lookupSetter__(d),
c.get=jb(e,f),c.set=kb(g,f),m(a,d,c);sb.forEach(function(c){if(!(c in a)){var b=n(v,c);b.value=a;m(a,c,b)}});return a};function T(a){this.a=a;this.log=z;this.settings=a.settings;this.info=this.settings.scriptInfo;this.b=this.info.script.name;this.c=this.info.script.resources;this.i=a.content;var b=this;this.GM={info:Object.assign({},b.info,{scriptHandler:"AdGuard",scriptMetaStr:b.info.scriptMetaStr,version:"1.2.5"}),deleteValue:function(a){b.deleteValue(a);return Promise.resolve(void 0)},getResourceUrl:function(a){return Promise.resolve(b.getResourceURL(a))},getValue:function(a,d){return Promise.resolve(b.getValue(a,
d))},listValues:function(){return Promise.resolve(b.listValues())},notification:function(a,d,f,e){b.notification(a,d,f,e)},openInTab:function(a){b.openInTab(a)},setClipboard:function(a){b.setClipboard(a)},setValue:function(a,d){b.setValue(a,d);return Promise.resolve(void 0)},xmlHttpRequest:function(a){b.xmlhttpRequest(a)}};-1!==this.settings.grants.indexOf("none")?(this.j=[],this.f=!1,this.sandbox=v):(this.j=this.settings.grants.filter(function(a){return 0===a.indexOf("GM_")&&"GM_info"!==a}),this.f=
-1!==this.settings.grants.indexOf("unsafeWindow"),this.sandbox=gb(a.settings.scriptInfo.script.namespace))}function U(a,b){a:{var c=a.a.settings.grants;for(var d=0;d<c.length;d++)if(c[d]===b){c=!0;break a}c=!1}if(c)return!0;a.log("Access to function "+b+" is not allowed.");return!1}
function tb(a,b){for(var c=!1,d=a.a.settings.grants,f=d.length;0<f--;){var e=d[f];if(0===e.indexOf("property:",0)&&(c=!0,-1!==e.indexOf("property:"+b,0)))return!0}return c?(a.log("Access to property "+b+" is not allowed."),!1):!0}k=T.prototype;k.getValue=function(a,b){if(!U(this,"GM_getValue")&&!U(this,"GM.getValue")||!tb(this,a))return null;a=eb(this.a.data[a]);return"undefined"==typeof a?b:a};
k.setValue=function(a,b){if(!U(this,"GM_setValue")&&!U(this,"GM.setValue")||!tb(this,a))return null;if("undefined"==typeof b)this.log("Trying to set "+a+" property to undefined");else{a:{try{var c="number"==typeof b&&0===b%1?"[I;"+b:"boolean"==typeof b?"[B;"+b:"object"==typeof b?"[O;"+JSON.stringify(b):"[LString;"+b;break a}catch(d){z("Cannot convert value to GM property: "+d)}c=void 0}b=this.a.data[a];if("undefined"==typeof b||b!=c){b={type:"gm-set-value",unique_name:this.b,variable_key:a,variable_value:c,
synchronous:!1};this.a.data[a]=c;if(L)return N(b),null;Qa(b)}}};k.deleteValue=function(a){if(!U(this,"GM_deleteValue")&&!U(this,"GM.deleteValue")||!tb(this,a))return null;var b={type:"gm-delete-value",unique_name:this.b,variable_key:a,synchronous:!1};delete this.a.data[a];if(L)return N(b),null;Qa(b)};k.listValues=function(){if(!U(this,"GM_listValues")&&!U(this,"GM.listValues"))return null;var a=[],b;for(b in this.a.data)a.push(b);return a};
function vb(a,b){for(var c=0,d=a.c.length;c<d;c++)if(b===a.c[c].name)return a.c[c];throw"Resource "+b+" not found";}k.getResourceURL=function(a){a=vb(this,a);var b=a.type;-1==b.indexOf(";")&&(b+=";base64");return"data:"+(b||"application;base64")+","+a.content};k.getResourceText=function(a){a=vb(this,a);return Ea(Da(atob(a.content)))};
k.xmlhttpRequest=function(a){var b=x.location.protocol+"//"+K,c=a.method||"GET",d=Pa(a.url);d={type:"gm-xml-http-request",unique_name:this.b,url:d||"",data:a.data||"",headers:cb(a.headers||""),method:a.method||"",overridemimetype:a.overrideMimeType||"",user:a.user||"",password:a.password||""};d=Ra(d,{headers:!0});b="POST"!=c&&"PUT"!=c&&"PATCH"!=c&&"DELETE"!=c?b+"/adguard-ajax-api/api?"+d:b+"/adguard-ajax-api/api";var f=a.synchronous?!a.synchronous:!0,e=new na;e.open=oa;e.send=pa;e.open(c,b,f);e.onreadystatechange=
function(){var b=db(e,a);if(a.onreadystatechange)a.onreadystatechange(b);if(4==e.readyState){if(a.onload&&200<=e.status&&300>e.status)a.onload(b);if(a.onerror&&(200>e.status||300<=e.status))a.onerror(b)}};if(f)return e.timeout="undefined"!==typeof a.timeout?a.timeout:15E3,e.ontimeout=function(){if(a.ontimeout)a.ontimeout(db(e,a))},"GET"==c?e.send():e.send(d),{abort:function(){return e.abort()}};"GET"==c?e.send():e.send(d);return{abort:function(){return e.abort()},finalUrl:e.responseURL,readyState:e.readyState,
responseHeaders:e.getAllResponseHeaders(),responseText:e.responseText,status:e.status,statusText:e.statusText}};k.openInTab=function(a){var b=H("a");b.href=a;if("data:"===b.protocol){b=Fa("","_blank");var c=b.document;a='<body style="margin:0;overflow:hidden"><iframe width="100%" height="100%" style="border:none" src="'+a+'"></iframe></body>';c.open();c.write(a);c.close();return b}return Fa(a,"_blank")};
k.addStyle=function(a){var b=this.a.settings,c=H("style");c.setAttribute("nonce",b.nonce);c.setAttribute("data-source",b.scriptInfo.script.name);c.type="text/css";r(G,c,[document.createTextNode(a)]);r(G,x.body||x.documentElement,[c])};
k.setClipboard=function(a){var b=H("textarea");b.setAttribute("readonly","");b.value=a;b.style.fontSize="12pt";b.style.position="absolute";b.style.left="-9999px";var c=document.body||document.documentElement;r(G,c,[b]);b.select();b.setSelectionRange(0,a.length);try{document.execCommand("copy")}catch(d){}finally{r(Ia,c,[b]),v.getSelection().removeAllRanges()}};
k.notification=function(a,b,c,d){function f(){document.body.removeChild(e);document.body.removeChild(l)}if(!U(this,"GM.notification"))return null;var e=document.createElement("div");e.style.cssText="position: absolute; width: 500px; max-width: 80vw; min-height: 200px; height: auto;background: #efefef; box-shadow: 0px 0px 32px -17px black; text-align: center; top: 50%; left: 50%;transform: translate(-50%, -50%); padding: 30px; box-sizing: border-box; z-index: 9999;";var g=document.createElement("div");
g.innerText=b?b:"AdGuard";g.style.cssText="font-family: sans-serif; color: black; font-weight: bold;font-size: 20px; margin-bottom: 10px;";b=document.createElement("div");b.innerText=a;b.style.cssText="font-family: sans-serif; color: black; font-weight: normal; font-size: 15px;text-align: left; padding-left: 70px; min-height: 50px; display: flex; align-items: center;";a=document.createElement("img");a.src=c?c:"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 25.3 25.9'%3E%3Cpath fill='%2368bc71' d='M12.7 0C8.7 0 3.9.9 0 3c0 4.4-.1 15.4 12.7 23C25.4 18.4 25.3 7.4 25.3 3 21.4.9 16.6 0 12.7 0z'/%3E%3Cpath fill='%2367b279' d='M12.6 25.9C-.1 18.4 0 7.4 0 3c3.9-2 8.7-3 12.6-3v25.9z'/%3E%3Cpath fill='%23fff' d='M12.2 17.3L19.8 7a.99.99 0 0 0-1.3.1l-6.4 6.6-2.4-2.9c-1.1-1.3-2.7-.3-3.1 0l5.6 6.5'/%3E%3C/svg%3E";
a.style.cssText="width: auto; height: auto; max-width: 50px; max-height: 50px;position: absolute; left: 30px;";c=document.createElement("button");c.type="button";c.innerText="Ok";c.style.cssText="font-family: sans-serif; color: black; font-weight: normal; border: 1px solid #ccc;font-size: 14px; padding: 5px 35px; cursor: pointer; margin-top: 25px;";c.addEventListener("click",function(){f();d&&d instanceof Function&&d()});var l=document.createElement("div");l.style.cssText="position: absolute; width: 100%; height: 100%; top: 0; left: 0;background: rgba(0,0,0,.5); z-index: 9998;";
l.addEventListener("click",f);e.appendChild(g);e.appendChild(a);e.appendChild(b);e.appendChild(c);document.body.appendChild(l);document.body.appendChild(e)};k.registerMenuCommand=function(){wb||(wb=!0,Aa("[AdGuard Userscript Module] GM_registerMenuCommand is not supportedand was removed from Greasemonkey API\nhttps://wiki.greasespot.net/GM_registerMenuCommand"))};k.A=function(a,b){if(b&&"string"==typeof b.defineAs){var c={};return a[b.defineAs]=c}};
k.B=function(a,b,c){c&&"string"==typeof c.defineAs&&(b[c.defineAs]=a);return a};k.w=function(a){return a};k.v=function(a,b){N({type:"add",rule:a},b)};k.C=function(a,b){N({type:"remove",rule:a},b)};k.u=function(a){a&&N({type:"is-filtered",url:x.location.href},function(b){b&&(b&&!b.error?a(b.result):a(!1))})};k.s=function(a,b){N({type:"change-filtering-state",state:a,domain:x.location.hostname},b)};
k.F=function(a,b){a||(a=30);N({type:"notblock",timeout:a,rule:"@@||"+x.location.hostname+"$document,important"},b)};k.D=function(a){N({type:"send-abuse",url:x.location.href,referrer:x.referrer},a)};k.o=function(a){if(!a)return null;var b=this;return function(){return r(a,b,arguments)}};k.g=function(a){return Ca.call(this.j,a,"")};k.l=function(a){Ba("[AdGuard Userscript Module] Thrown from "+this.b+":");Ba(a)};k.h=function(){delete this.i;delete this.a.content};var wb=!1;T.prototype.unsafeWindow=v;
T.prototype.functionCtor=Function;;var xb=v.MutationObserver||v.WebKitMutationObserver;function yb(a,b){function c(){d()}function d(){document.body&&e()}function f(){var a=I();a!==V&&a!==W||e()}function e(){g||(g=!0,F(Z,f),q?q.disconnect():F(zb,d),a(b))}var g=!1,l=I();if(l===V||l===W)e();else{if(xb){var q=new xb(c);q.observe(x.documentElement,{childList:!0})}else E(zb,d);E(Z,f,!0)}}var Ab=11>J;
function Bb(a,b){function c(){var a=I();(!Ab&&a===V||a===W)&&d()}function d(){f||(f=!0,F(Z,c),a(b))}var f=!1,e=I();!Ab&&e===V||e===W?d():E(Z,c,!0)}var Cb=Ga?function(a){return r(Ga,v,[a])}:function(a){return setTimeout(a,50)},Db=Ga?function(a){return r(Ha,v,[a])}:function(a){return clearTimeout(a)};function Eb(a,b){function c(){var a=I();a===W?d():a===V&&(e=Cb(d))}function d(){f||(f=!0,Db(e),F(Z,c),a(b))}var f=!1,e,g=I();g===W?d():g===V?e=Cb(d):E(Z,c,!0)}
var V="interactive",W="complete",zb="DOMNodeInserted",Z="readystatechange";function Fb(){var a=x.currentScript;a||(a=x.getElementsByTagName("script"),a=a[a.length-1]);var b=a.parentNode;b&&b.removeChild(a)}function Gb(){if("complete"===I()){var a=H("style");a.textContent="*{opacity:.99}";var b=x.documentElement;r(G,b,[a]);r(Ia,b,[a])}}
return function(a,b){9>J?Aa("[AdGuard Userscript Module] Unsupported browser"):(b.filter(function(a){if(v["__adg_run_flag"+a.settings.scriptInfo.script.name])return Aa("[AdGuard Userscript Module] Page tries to run userscript second time"),!1;var b=v.innerWidth||x.documentElement.clientWidth,c=v.innerHeight||x.documentElement.clientHeight;return!(v.self!=v.top&&(1E5>b*c||a.settings.scriptInfo.script.options.noframes))}).map(function(a){return new T(a)}).forEach(function(b){m(v,"__adg_run_flag"+
b.b,{value:!0,configurable:!0});switch(b.info.script.options["run-at"]){case "document-body":yb(a,b);break;case "document-idle":Eb(a,b);break;case "document-start":a(b);break;default:Bb(a,b)}}),Gb(),Fb(),b=null)};
}()(function(a){try{(new a.functionCtor("a","with(a.sandbox){(function(userscript){'use strict';userscript.call(a.sandbox"+a.g(function(a,c){return a+(",a.o(a."+c.substr(3)+")")})+",a.GM,a.settings.scriptInfo"+(""+(a.f?",a.unsafeWindow":""))+",a.A,a.B,a.w,a.settings,a.settings,a.v,a.C,a.u,a.s,a.F,a.D);"+
("})(function("+a.g(function(a,c){return a+(c+",")}))+"GM,GM_info,"+(""+(a.f?"unsafeWindow,":""))+"createObjectIn,exportFunction,cloneInto,adguardSettings,AdguardSettings,ADG_addRule,ADG_removeRule,ADG_isFiltered,ADG_changeFilteringState,ADG_temporaryDontBlock,ADG_sendAbuse,a){"+(""+("\r\n"+a.i+"\r\n"))+"})}"+("//# sourceURL="+encodeURIComponent(a.b)+".user.js")))(a)}catch(b){a.l(b)}finally{a.h()}},
[{"settings":{"scriptInfo":{"script":{"options":{"run-at":"document-start","noframes":false},"name":"AdGuard Extra Beta","decription":"AdGuard Extra is designed to solve complicated cases when regular ad blocking rules aren't enough.","namespace":"adguard","homepage":"https://userscripts.adtidy.org/beta/adguard-extra/1.0/adguard-extra.user.js","includes":[],"excludes":["*://mil.ru/*","*wikipedia.org*","*icloud.com*","*hangouts.google.com*","*www.facebook.com/plugins/*","*www.facebook.com/v*/plugins*","*disqus.com/embed/comments*","*vk.com/widget*","*twitter.com/intent/*","*www.youtube.com/embed/*","*player.vimeo.com*","*coub.com/embed*","*staticxx.facebook.com/connect/xd_arbiter/*","*vk.com/q_frame*","*tpc.googlesyndication.com*","*syndication.twitter.com*","*platform.twitter.com*","*tutosdeath.blogspot.com*","*notifications.google.com*","*google.com/recaptcha/*","*bizmania.ru/*"],"matches":["*://*/*"],"lastUpdated":"2025-02-04_11-07-07","version":"1.0.152","resources":[]},"scriptWillUpdate":true,"scriptMetaStr":"","version":"2.5.0.896 beta","scriptSource":"// ==UserScript==\n// @name AdGuard Extra Beta\n// @name:nl AdGuard Extr...","scriptUpdateURL":"https://userscripts.adtidy.org/beta/adguard-extra/1.0/adguard-extra.meta.js","isIncognito":false,"isPrivate":false,"scriptHandler":"Adguard for Mac"},"grants":["unsafeWindow"],"feedbackUrl":"http://api.adguard.com","locale":"zh-cn","appVersion":"2.5.0.896 beta","nonce":"59ea700ea2034180a4f9bcaf2b6"},"data":{},"content":"// ==UserScript==\n// @name AdGuard Extra Beta\n// @name:nl AdGuard Extra Beta\n// @name:zh-TW AdGuard Extra Beta\n// @name:pt-PT AdGuard Extra Beta\n// @name:be AdGuard Extra Beta\n// @name:da AdGuard Extra Beta\n// @name:uk AdGuard Extra Beta\n// @name:sr AdGuard dodatno Beta\n// @name:sl Uporabi AdGuard Extra Beta\n// @name:sk AdGuard Extra Beta\n// @name:es AdGuard Extra Beta\n// @name:cs AdGuard Extra Beta\n// @name:lt AdGuard Extra Beta\n// @name:hr AdGuard Extra Beta\n// @namespace    adguard\n// @version      1.0.152\n// @description AdGuard Extra is designed to solve complicated cases when regular ad blocking rules aren't enough. \n// @description:ko AdGuard Extra는 일반적인 광고 차단 규칙이 충분하지 않은 복잡한 문제를 해결하도록 설계되었습니다. \n// @description:zh AdGuard Extra在常规广告阻止规则不够时能够解决复杂情况。 \n// @description:nl AdGuard Extra is bedoeld om ingewikkelde gevallen op te lossen wanneer de normale advertentie blokkeringsregels niet voldoende blijken. \n// @description:ar من المفترض أن يحل AdGuard Extra الحالات المعقدة حينما لا تكون قواعد حجب الإعلانات العادية كافية. \n// @description:no AdGuard Extra skal løse kompliserte problemer når vanlige annonseblokkeringsregler ikke er nok. \n// @description:cs AdGuard Extra má za úkol řešit složité případy, když běžná pravidla pro blokování reklam nestačí. \n// @description:pl AdGuard Extra ma za zadanie rozwiązanie skomplikowanych przypadków, gdy zawodzą zasady zwykłych programów blokujących reklamy. \n// @description:de AdGuard Extra soll komplizierte Aufgaben lösen, wenn regelmäßige Regeln zur Werbeblockierung nicht ausreichen. \n// @description:pt-PT O AdGuard Extra é indicado para resolver casos complicados onde as regras regulares de bloqueio de anúncios não são suficientes. \n// @description:es AdGuard Extra está diseñado para resolver casos complicados cuando las reglas regulares para bloqueo de anuncios no son suficientes. \n// @description:pt O AdGuard Extra é indicado para resolver casos complicados onde as regras regulares de bloqueio de anúncios não são suficientes. \n// @description:fa قرار است وقتی قوانین عادیِ مسدودسازی تبلیغات کفایت نمی‌کنند،AdGuard Extra مسائل پیچیده‌ای را حل کند. \n// @description:ro AdGuard Extra este conceput să rezolve cazurile complicate în care regulile obișnuite de blocare a reclamelor nu sunt suficiente. \n// @description:he AdGuard Extra אמור להוות פתרון למקרים מורכבים בהם כללי חסימת פרסומות רגילים אינם מספיקים. \n// @description:ru AdGuard Extra предназначен для решения более сложных задач, когда обычных правил блокировки рекламы недостаточно. \n// @description:hu Az AdGuard Extra arra szolgál, hogy bonyolult eseteket oldjon meg akkor, amikor a hagyományos reklámblokkolási szabályok nem elégségesek. \n// @description:sk AdGuard Extra má za úlohu riešiť zložité prípady, keď bežné pravidlá blokovania reklám nestačia. \n// @description:it AdGuard Extra è destinato a risolvere i casi complicati in cui le regole di blocco degli annunci regolari non sono sufficienti. \n// @description:sl AdGuard Extra naj bi rešil zapletene primere, ko običajna pravila za zaviranje oglasov niso dovolj. \n// @description:be AdGuard Extra закліканы вырашаць складаныя выпадкі, калі звычайных правілаў блакавання рэкламы недастаткова. \n// @description:sr AdGuard Extra trebalo bi da reši komplikovane slučajeve u kojima standardna pravila blokiranja reklama nisu dovoljna. \n// @description:da AdGuard Extra er designet til at løse komplicerede sager, når de almindelige regler til annonceblokering ikke er nok. \n// @description:sv AdGuard Extra ska lösa komplicerade fall när vanliga regler för reklamblockering inte räcker till. \n// @description:et AdGuard Ekstra eesmärk on lahendada keerulisi juhtumeid, kui tavalistest reklaami blokeerimis reeglitest ei piisa. \n// @description:hr AdGuard Extra je dizajniran za rješavanje kompleksnih slučajeva kada opća pravila blokade oglasa nisu dovoljna. \n// @description:zh-TW 當常規的廣告封鎖規則不夠時，AdGuard Extra 旨在解決複雜的情況。 \n// @description:vi AdGuard Extra được dùng để giải quyết các trường hợp phức tạp khi các quy tắc chặn quảng cáo thông thường không thể đáp ứng. \n// @description:uk AdGuard Extra призначений для вирішення складних завдань, коли звичайних правил для блокування реклами недостатньо. \n// @description:tr AdGuard Extra, normal reklam engelleme kurallarının yeterli olmadığı karmaşık durumları çözmek için tasarlanmıştır. \n// @description:hy AdGuard Extra նախատեսում է լուծել ավելի բարդ խնդիրներ, երբ սովորական գովազդային արգելափակումները բավական չեն: \n// @description:fr AdGuard Extra doit résoudre des problèmes compliqués où les règles de blocage classiques ne fonctionnent pas. \n// @description:bg AdGuard Extra решава сложни случаи, в които редовните правила за блокиране на реклами не са достатъчни. \n// @description:lt AdGuard Extra yra skirtas išspręsti sudėtingesnius atvejus, kai nepakanka įprastų skelbimų blokavimo taisyklių. \n// @description:ja 通常の広告ブロックルールでは解決できない複雑な問題を解決するための拡張機能です。 \n// @downloadURL  https://userscripts.adtidy.org/beta/adguard-extra/1.0/adguard-extra.user.js\n// @updateURL    https://userscripts.adtidy.org/beta/adguard-extra/1.0/adguard-extra.meta.js\n// @homepageURL  https://adguard.com/\n// @author       AdGuard\n// @match        *://*/*\n// @grant        unsafeWindow\n// @run-at       document-start\n// @exclude *://mil.ru/*\n// @exclude *wikipedia.org*\n// @exclude *icloud.com*\n// @exclude *hangouts.google.com*\n// @exclude *www.facebook.com/plugins/*\n// @exclude *www.facebook.com/v*/plugins*\n// @exclude *disqus.com/embed/comments*\n// @exclude *vk.com/widget*\n// @exclude *twitter.com/intent/*\n// @exclude *www.youtube.com/embed/*\n// @exclude *player.vimeo.com*\n// @exclude *coub.com/embed*\n// @exclude *staticxx.facebook.com/connect/xd_arbiter/*\n// @exclude *vk.com/q_frame*\n// @exclude *tpc.googlesyndication.com*\n// @exclude *syndication.twitter.com*\n// @exclude *platform.twitter.com*\n// @exclude *tutosdeath.blogspot.com*\n// @exclude *notifications.google.com*\n// @exclude *google.com/recaptcha/*\n// @exclude *bizmania.ru/*\n// ==/UserScript==\n\n'use strict';var win = typeof unsafeWindow !== 'undefined' ? unsafeWindow : window;\nvar browser = {\n  window: win,\n  document: win.document,\n  location: win.document.location,\n  console: {},\n  querySelector: win.document.querySelector.bind(win.document),\n  querySelectorAll: win.document.querySelectorAll.bind(win.document),\n  getAttribute: Function.prototype.call.bind(HTMLElement.prototype.getAttribute),\n  setAttribute: Function.prototype.call.bind(HTMLElement.prototype.setAttribute),\n  removeAttribute: Function.prototype.call.bind(HTMLElement.prototype.removeAttribute),\n  defineProperty: Object.defineProperty,\n  MutationObserver: win.MutationObserver\n};\nObject.keys(browser.window.console).forEach(function (name) {\n  browser.console[name] = browser.window.console[name];\n});function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nvar arrayLikeToArray = _arrayLikeToArray;function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\nvar arrayWithoutHoles = _arrayWithoutHoles;function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\nvar iterableToArray = _iterableToArray;function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\nvar unsupportedIterableToArray = _unsupportedIterableToArray;function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nvar nonIterableSpread = _nonIterableSpread;function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\nvar toConsumableArray = _toConsumableArray;function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar classCallCheck = _classCallCheck;function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nvar createClass = _createClass;var UserInteractionTracker = function () {\n  function UserInteractionTracker() {\n    var _this = this;\n    classCallCheck(this, UserInteractionTracker);\n    this.TRACKED_EVENTS = ['auxclick', 'click', 'dblclick', 'mousedown', 'mouseenter', 'mouseleave', 'mousemove', 'mouseover', 'mouseout', 'mouseup', 'wheel', 'keydown', 'keypress', 'keyup'];\n    this.LAST_EVENT_TIMEOUT_MS = 10;\n    this.lastEventType = '';\n    this.lastEventTime = '';\n    var trackEvent = function trackEvent(event) {\n      _this.lastEventType = event.type;\n      _this.lastEventTime = Date.now();\n    };\n    for (var i = 0; i < this.TRACKED_EVENTS.length; i += 1) {\n      document.documentElement.addEventListener(this.TRACKED_EVENTS[i], trackEvent, true);\n    }\n  }\n  createClass(UserInteractionTracker, [{\n    key: \"getCurrentEvent\",\n    value: function getCurrentEvent() {\n      if (!this.lastEventType || !this.lastEventTime) {\n        return null;\n      }\n      var isTimeout = Date.now() - this.lastEventTime > this.LAST_EVENT_TIMEOUT_MS;\n      if (!isTimeout) {\n        return this.lastEventType;\n      }\n      return null;\n    }\n  }]);\n  return UserInteractionTracker;\n}();\nvar userInteractionTracker = new UserInteractionTracker();var hosts = {\n  '4pda.ru': '*://*.4pda.ru/*',\n  'adguard.com': '*://*.adguard.com/*',\n  'auto.ru': '*://*.auto.ru/*',\n  'media.auto.ru': '*://*.media.auto.ru/*',\n  'yandex.ru': '*://*.yandex.ru/*',\n  'yandex.kz': '*://*.yandex.kz/*',\n  'yandex.by': '*://*.yandex.by/*',\n  'yandex.ua': '*://*.yandex.ua/*',\n  'yandex.md': '*://*.yandex.md/*',\n  'yandex.fr': '*://*.yandex.fr/*',\n  'yandex.lv': '*://*.yandex.lv/*',\n  'yandex.com.tr': '*://*.yandex.com.tr/*',\n  'yandex.com': '*://*.yandex.com/*',\n  'afisha.yandex.ru': '*://*.afisha.yandex.ru/*',\n  'afisha.yandex.kz': '*://*.afisha.yandex.kz/*',\n  'afisha.yandex.by': '*://*.afisha.yandex.by/*',\n  'afisha.yandex.ua': '*://*.afisha.yandex.ua/*',\n  'afisha.yandex.md': '*://*.afisha.yandex.md/*',\n  'mail.yandex.ru': '*://*.mail.yandex.ru/*',\n  'mail.yandex.kz': '*://*.mail.yandex.kz/*',\n  'mail.yandex.by': '*://*.mail.yandex.by/*',\n  'mail.yandex.ua': '*://*.mail.yandex.ua/*',\n  'mail.yandex.md': '*://*.mail.yandex.md/*',\n  'news.yandex.ru': '*://*.news.yandex.ru/*',\n  'news.yandex.kz': '*://*.news.yandex.kz/*',\n  'news.yandex.by': '*://*.news.yandex.by/*',\n  'news.yandex.ua': '*://*.news.yandex.ua/*',\n  'news.yandex.md': '*://*.news.yandex.md/*',\n  'music.yandex.ru': '*://*.music.yandex.ru/*',\n  'music.yandex.kz': '*://*.music.yandex.kz/*',\n  'music.yandex.by': '*://*.music.yandex.by/*',\n  'music.yandex.ua': '*://*.music.yandex.ua/*',\n  'music.yandex.md': '*://*.music.yandex.md/*',\n  'tv.yandex.ru': '*://*.tv.yandex.ru/*',\n  'tv.yandex.kz': '*://*.tv.yandex.kz/*',\n  'tv.yandex.by': '*://*.tv.yandex.by/*',\n  'tv.yandex.ua': '*://*.tv.yandex.ua/*',\n  'tv.yandex.md': '*://*.tv.yandex.md/*',\n  'zen.yandex.ru': '*://*.zen.yandex.ru/*',\n  'zen.yandex.kz': '*://*.zen.yandex.kz/*',\n  'zen.yandex.by': '*://*.zen.yandex.by/*',\n  'zen.yandex.ua': '*://*.zen.yandex.ua/*',\n  'zen.yandex.md': '*://*.zen.yandex.md/*',\n  'docviewer.yandex.ru': '*://*.docviewer.yandex.ru/*',\n  'docviewer.yandex.kz': '*://*.docviewer.yandex.kz/*',\n  'docviewer.yandex.by': '*://*.docviewer.yandex.by/*',\n  'docviewer.yandex.ua': '*://*.docviewer.yandex.ua/*',\n  'docviewer.yandex.md': '*://*.docviewer.yandex.md/*',\n  'drive2.ru': '*://*.drive2.ru/*',\n  'drive2.com': '*://*.drive2.com/*',\n  'kinopoisk.ru': '*://*.kinopoisk.ru/*',\n  'eda.ru': '*://*.eda.ru/*',\n  'facebook.com': '*://*.facebook.com/*',\n  'facebookcorewwwi.onion': '*://*.facebookcorewwwi.onion/*',\n  'e.mail.ru': '*://*.e.mail.ru/*',\n  'octavius.mail.ru': '*://*.octavius.mail.ru/*',\n  'mail.ru': '*://*.mail.ru/*',\n  'news.mail.ru': '*://*.news.mail.ru/*',\n  'auto.mail.ru': '*://*.auto.mail.ru/*',\n  'sportmail.ru': '*://*.sportmail.ru/*',\n  'horo.mail.ru': '*://*.horo.mail.ru/*',\n  'deti.mail.ru': '*://*.deti.mail.ru/*',\n  'lady.mail.ru': '*://*.lady.mail.ru/*',\n  'hi-tech.mail.ru': '*://*.hi-tech.mail.ru/*',\n  'minigames.mail.ru': '*://*.minigames.mail.ru/*',\n  'ok.ru': '*://*.ok.ru/*',\n  'rambler.ru': '*://*.rambler.ru/*',\n  'championat.com': '*://*.championat.com/*',\n  'gazeta.ru': '*://*.gazeta.ru/*',\n  'lenta.ru': '*://*.lenta.ru/*',\n  'quto.ru': '*://*.quto.ru/*',\n  'rns.online': '*://*.rns.online/*',\n  'passion.ru': '*://*.passion.ru/*',\n  'wp.pl': '*://*.wp.pl/*',\n  'vidstream.online': '*://*.vidstream.online/*',\n  'livejournal.com': '*://*.livejournal.com/*',\n  'varlamov.ru': '*://*.varlamov.ru/*',\n  'lena-miro.ru': '*://*.lena-miro.ru/*',\n  'olegmakarenko.ru': '*://*.olegmakarenko.ru/*',\n  'periskop.su': '*://*.periskop.su/*',\n  'levik.blog': '*://*.levik.blog/*',\n  'otzovik.com': '*://*.otzovik.com/*',\n  'sinoptik.ua': '*://*.sinoptik.ua/*',\n  'multiup.org': '*://*.multiup.org/*',\n  'yaplakal.com': '*://*.yaplakal.com/*',\n  'yap.ru': '*://*.yap.ru/*'\n};function generateRandomString() {\n  return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n}\nfunction observeDomChanges(callback) {\n  var domMutationObserver = new browser.MutationObserver(function () {\n    if (userInteractionTracker.getCurrentEvent()) {\n      return;\n    }\n    callback();\n  });\n  domMutationObserver.observe(browser.document, {\n    childList: true,\n    subtree: true\n  });\n}\nfunction safeGetStylesheetRules(sheet) {\n  try {\n    if (sheet.rules === null) {\n      return [];\n    }\n    return sheet.rules;\n  } catch (e) {\n    return [];\n  }\n}\nfunction removeNode(node) {\n  return node && node.parentNode && node.parentNode.removeChild(node);\n}\nfunction browserSupported() {\n  return !(navigator.userAgent && navigator.userAgent.match(/(MSIE|Trident)/));\n}\nvar hideViaDisplayProperty = function hideViaDisplayProperty(node) {\n  if (node) {\n    node.style.setProperty('display', 'none', 'important');\n  }\n};\nvar hideViaPositionProperty = function hideViaPositionProperty(node) {\n  if (node) {\n    node.style.position = 'absolute';\n    node.style.top = '-99999px';\n  }\n};\nvar iterateCSSRules = function iterateCSSRules(func) {\n  toConsumableArray(browser.document.styleSheets).forEach(function (sheet) {\n    toConsumableArray(safeGetStylesheetRules(sheet)).forEach(function (rule) {\n      func(rule);\n    });\n  });\n};\nvar hideRulesByCondition = function hideRulesByCondition(pattern, condition) {\n  iterateCSSRules(function (rule) {\n    if (rule.selectorText && condition(rule.selectorText, pattern)) {\n      hideViaDisplayProperty(rule);\n    }\n  });\n};\nvar stringPatternCondition = function stringPatternCondition(selector, pattern) {\n  return selector.includes(pattern);\n};\nvar regexpPatternCondition = function regexpPatternCondition(selector, pattern) {\n  return pattern.test(selector);\n};\nvar hideCssRulesBySelectorText = function hideCssRulesBySelectorText(pattern) {\n  if (pattern && pattern.constructor === String) {\n    hideRulesByCondition(pattern, stringPatternCondition);\n  } else if (pattern && pattern.constructor === RegExp) {\n    hideRulesByCondition(pattern, regexpPatternCondition);\n  } else {\n    throw new Error('The arguments must be type of String or RegExp');\n  }\n};\nvar isMatchingHostnames = function isMatchingHostnames() {\n  for (var _len = arguments.length, hostnames = new Array(_len), _key = 0; _key < _len; _key++) {\n    hostnames[_key] = arguments[_key];\n  }\n  return browserSupported() && hostnames.some(function (hostname) {\n    if (!hosts[hostname]) {\n      return false;\n    }\n    var hostPattern = hosts[hostname].replace('*://*.', '');\n    return browser.location.origin.match(hostPattern);\n  });\n};\nvar injectHidingRuleForClassname = function () {\n  var injectedRules = [];\n  return function (className) {\n    var hidingRule = \".\".concat(className, \" { display: none !important }\");\n    if (injectedRules.some(function (rule) {\n      return rule === hidingRule;\n    })) {\n      return;\n    }\n    var styleSheets = browser.document.styleSheets;\n    var styleSheet = styleSheets[styleSheets.length - 1];\n    if (!styleSheet) {\n      var style = browser.document.createElement('style');\n      browser.document.head.appendChild(style);\n      styleSheet = style.sheet;\n    }\n    styleSheet.insertRule(hidingRule, styleSheet.cssRules.length);\n    injectedRules.push(hidingRule);\n  };\n}();if (isMatchingHostnames('facebook.com', 'facebookcorewwwi.onion')) {\n  var hideFeedAds = function hideFeedAds() {\n    var posts = browser.querySelectorAll('div[id^=\"substream_\"] div[id^=\"hyperfeed_story_id\"]');\n    if (posts.length <= 0) {\n      return;\n    }\n    posts.forEach(function (post) {\n      if (post.style.display === 'none') {\n        return;\n      }\n      var dataFt;\n      Object.keys(post).some(function (key) {\n        if (!post[key]) {\n          return false;\n        }\n        dataFt = post[key]['data-ft'];\n        return !!dataFt;\n      });\n      if (!dataFt) {\n        return;\n      }\n      var sponsored1 = dataFt.includes('\"is_sponsored\":1');\n      var sponsored2 = dataFt.includes('\"ei\":') && !dataFt.includes('\"page_id\":\"');\n      if (sponsored1 || sponsored2) {\n        post.style.display = 'none';\n      }\n    });\n  };\n  var hideMarketplaceAds = function hideMarketplaceAds() {\n    var posts = browser.querySelectorAll('div[data-testid=\"marketplace_home_feed\"] > div > div > div[class] > div[class] > div > div[class]:not([style*=\"display:none\"])');\n    if (posts.length <= 0) {\n      return;\n    }\n    posts.forEach(function (post) {\n      var html = post.outerHTML;\n      if (!html) {\n        return;\n      }\n      if (html.includes('/ads/about/')) {\n        post.style = 'display:none!important;';\n      }\n    });\n  };\n  observeDomChanges(function () {\n    hideFeedAds();\n    hideMarketplaceAds();\n  });\n}if (isMatchingHostnames('4pda.ru') && !browser.location.pathname.startsWith('/amp/')) {\n  var remove = function remove(node) {\n    return node && node.parentNode.removeChild(node);\n  };\n  var width = function width() {\n    return browser.window.innerWidth || browser.document.body.clientWidth || 0;\n  };\n  var height = function height() {\n    return browser.window.innerHeight || browser.document.body.clientHeight || 0;\n  };\n  var blockHeaderAds = function blockHeaderAds() {\n    var header = browser.querySelector('.menu-main');\n    if (!header) {\n      return;\n    }\n    header = header.parentNode.parentNode;\n    for (var i = 0; i < header.parentNode.children.length; i += 1) {\n      var childNode = header.parentNode.children[i];\n      if (childNode !== header) {\n        hideViaDisplayProperty(childNode);\n      } else {\n        return;\n      }\n    }\n  };\n  var isAppPromo = function isAppPromo(element) {\n    var appPromoHeader = element === null || element === void 0 ? void 0 : element.firstElementChild;\n    return (appPromoHeader === null || appPromoHeader === void 0 ? void 0 : appPromoHeader.tagName) === 'H2' && /[AmopPrАорР]{8}/.test(appPromoHeader.innerText);\n  };\n  var blockSidebarAds = function blockSidebarAds() {\n    var aside = browser.querySelectorAll('[class]:not([id]) > [id]:not([class]) > :first-child + :last-child:not(.v-panel)');\n    if (!aside.length) {\n      return;\n    }\n    toConsumableArray(aside).forEach(function (side) {\n      toConsumableArray(side.children).forEach(function (itm) {\n        if (itm.querySelector('a[target=\"_blank\"] > img') || isAppPromo(itm)) {\n          hideViaDisplayProperty(itm);\n        }\n      });\n    });\n  };\n  var blockMobileAds = function blockMobileAds() {\n    var elements = browser.querySelectorAll('body > :not(div):not(a)');\n    if (elements.length === 0) {\n      return;\n    }\n    toConsumableArray(elements).forEach(function (el) {\n      hideViaDisplayProperty(el);\n    });\n    var btn = browser.querySelector('body > a[role=\"button\"]');\n    if (btn) {\n      hideViaDisplayProperty(btn);\n    }\n  };\n  var blockMobileHeaderAds = function blockMobileHeaderAds() {\n    if (navigator.userAgent.match('Mobile')) {\n      var headerAdsImg = browser.querySelector('article a[target=\"_blank\"] > img');\n      if (!headerAdsImg) {\n        return;\n      }\n      hideViaDisplayProperty(headerAdsImg.parentNode);\n    }\n  };\n  var fixNavMenu = function fixNavMenu() {\n    var adLink = browser.querySelector('.menu-main .menu-main-item > a[style*=\"background\"]');\n    if (!adLink) {\n      return;\n    }\n    hideViaDisplayProperty(adLink);\n  };\n  var isMobile = function isMobile() {\n    return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\n  };\n  var fixAdsPlaceholder = function fixAdsPlaceholder() {\n    var _adsScript$parentNode, _adsScript$nextElemen;\n    var adsScript = browser.document.querySelector('script[src^=\"//4pda.ru/ad/www\"]');\n    var adsContainer = adsScript === null || adsScript === void 0 ? void 0 : (_adsScript$parentNode = adsScript.parentNode) === null || _adsScript$parentNode === void 0 ? void 0 : _adsScript$parentNode.parentNode;\n    if (adsContainer && (adsScript === null || adsScript === void 0 ? void 0 : (_adsScript$nextElemen = adsScript.nextElementSibling) === null || _adsScript$nextElemen === void 0 ? void 0 : _adsScript$nextElemen.className) !== 'slider-news' && !isMobile()) {\n      adsContainer.style.marginTop = '-100px';\n    }\n  };\n  var restoreBackground = function restoreBackground() {\n    var body = browser.document.body;\n    body.setAttribute('style', \"\".concat(body.getAttribute('style') || '', \";background-color:#E6E7E9!important\"));\n    var extra = 'background-image:none!important;background-color:transparent!important';\n    var fakeStyles = new WeakMap();\n    var styleProxy = {\n      get: function get(target, prop) {\n        return fakeStyles.get(target)[prop] || target[prop];\n      },\n      set: function set(target, prop, value) {\n        var fakeStyle = fakeStyles.get(target);\n        (prop in fakeStyle ? fakeStyle : target)[prop] = value;\n        return true;\n      }\n    };\n    toConsumableArray(browser.querySelectorAll('[id]:not(A), A')).forEach(function (itm) {\n      if (!(itm.offsetWidth > 0.95 * width() && itm.offsetHeight > 0.85 * height())) {\n        return;\n      }\n      if (itm.tagName !== 'A') {\n        fakeStyles.set(itm.style, {\n          backgroundImage: itm.style.backgroundImage,\n          backgroundColor: itm.style.backgroundColor\n        });\n        try {\n          browser.defineProperty(itm, 'style', {\n            value: new Proxy(itm.style, styleProxy),\n            enumerable: true\n          });\n        } catch (_unused) {}\n        browser.setAttribute(itm, 'style', \"\".concat(browser.getAttribute(itm, 'style') || '', \";\").concat(extra));\n      }\n      if (itm.tagName === 'A') {\n        browser.setAttribute(itm, 'style', 'display:none!important');\n      }\n    });\n    fixAdsPlaceholder();\n  };\n  var blockForumAds = function blockForumAds() {\n    var itm = browser.querySelector('#logostrip');\n    if (itm) {\n      remove(itm.parentNode.nextSibling);\n    }\n    if (browser.location.pathname.startsWith('/forum/dl/')) {\n      var setBackground = function setBackground(node) {\n        return browser.setAttribute(node, 'style', \"\".concat(browser.getAttribute(node, 'style') || '', \";background-color:#4ebaf6!important\"));\n      };\n      setBackground(browser.document.body);\n      toConsumableArray(browser.querySelectorAll('body > div')).forEach(function (item) {\n        if (!item.querySelector('.dw-fdwlink, .content') && !item.classList.contains('footer')) {\n          remove(item);\n        } else {\n          setBackground(item);\n        }\n      });\n    }\n  };\n  browser.window.addEventListener('DOMContentLoaded', function () {\n    var isForum = browser.location.pathname.startsWith('/forum/');\n    var isUserProfile = isForum && browser.location.href.indexOf('showuser') > 0;\n    if (isForum) {\n      blockForumAds();\n      if (isUserProfile) {\n        blockHeaderAds();\n      }\n    } else {\n      blockHeaderAds();\n      fixNavMenu();\n      restoreBackground();\n      blockSidebarAds();\n      blockMobileAds();\n      blockMobileHeaderAds();\n    }\n  });\n}var hideFeedsAdsBlocks = function hideFeedsAdsBlocks() {\n  try {\n    var wrappers = browser.document.querySelectorAll('.feed__row > .feed__item-wrap');\n    var classNames = ['doc', 'card', 'carousel'];\n    toConsumableArray(wrappers).forEach(function (wrapper) {\n      if (!classNames.some(function (name) {\n        return wrapper.firstElementChild.firstElementChild.className.includes(name);\n      }) && wrapper.firstElementChild.firstElementChild.classList.length < 5) {\n        hideViaPositionProperty(wrapper);\n      }\n    });\n  } catch (_unused) {}\n};\nif (isMatchingHostnames('zen.yandex.ru', 'zen.yandex.kz', 'zen.yandex.by', 'zen.yandex.ua', 'zen.yandex.md')) {\n  var hideArticletAds = function hideArticletAds() {\n    try {\n      var articleBlocks = browser.document.querySelectorAll('div.article-render__block');\n      toConsumableArray(articleBlocks).forEach(function (block) {\n        if (block.firstElementChild.classList.length >= 3) {\n          hideViaPositionProperty(block);\n        }\n      });\n      var sidebarAds = browser.document.querySelector('.article-right-ad-block');\n      hideViaPositionProperty(sidebarAds);\n    } catch (_unused2) {}\n  };\n  observeDomChanges(function () {\n    hideArticletAds();\n    hideFeedsAdsBlocks();\n  });\n}if (isMatchingHostnames('yandex.ru', 'yandex.kz', 'yandex.by', 'yandex.ua', 'yandex.md', 'yandex.fr', 'yandex.com.tr', 'yandex.com', 'yandex.lv')) {\n  if (browser.location.pathname.startsWith('/sport')) {\n    var hideSportAds = function hideSportAds() {\n      var _browser$document$que;\n      var adsCard = (_browser$document$que = browser.document.querySelector('div[class$=\"item__card\"] div[class^=\"turbo-\"]')) === null || _browser$document$que === void 0 ? void 0 : _browser$document$que.parentNode;\n      if (!adsCard) {\n        return;\n      }\n      var adsClassName = adsCard.classList[0];\n      if (adsClassName && adsClassName.startsWith('sport-')) {\n        injectHidingRuleForClassname(adsClassName);\n      }\n    };\n    observeDomChanges(function () {\n      hideSportAds();\n    });\n  }\n  if (browser.location.pathname.startsWith('/video/')) {\n    var hideVideoListAds = function hideVideoListAds() {\n      var videoList = browser.querySelectorAll('.direct');\n      if (!videoList.length) {\n        return;\n      }\n      toConsumableArray(videoList).forEach(function (listItem) {\n        hideViaDisplayProperty(listItem);\n      });\n    };\n    observeDomChanges(function () {\n      hideVideoListAds();\n    });\n  }\n  if (browser.location.pathname.startsWith('/pogoda/') || browser.location.pathname.startsWith('/weather/')) {\n    var hideAdsByClassName = function hideAdsByClassName(className) {\n      var adsBlocks = browser.document.getElementsByClassName(className);\n      toConsumableArray(adsBlocks).forEach(function (ads) {\n        hideViaPositionProperty(ads);\n      });\n    };\n    var weatherAds = function weatherAds() {\n      var adElements = browser.querySelectorAll('div[id]');\n      toConsumableArray(adElements).forEach(function (adElement) {\n        var neighbourWeatherAd = adElement.nextElementSibling;\n        var weatherAd = adElement.parentNode;\n        if (!neighbourWeatherAd && !weatherAd) {\n          return;\n        }\n        if (neighbourWeatherAd && (/={\"blockId\":\"[A-Z0-9-]+\"/.test(neighbourWeatherAd.textContent) || neighbourWeatherAd.textContent.indexOf('advPosNames') > 0)) {\n          hideViaPositionProperty(weatherAd);\n        }\n      });\n    };\n    var weatherAdPopup = function weatherAdPopup() {\n      var wetherRemains = browser.querySelectorAll('style + div > div');\n      var AdPopup = toConsumableArray(wetherRemains).find(function (wetherRemain) {\n        var _wetherRemain$lastChi;\n        return ((_wetherRemain$lastChi = wetherRemain.lastChild) === null || _wetherRemain$lastChi === void 0 ? void 0 : _wetherRemain$lastChi.innerText) === 'Реклама';\n      });\n      if (!AdPopup) {\n        return;\n      }\n      hideViaPositionProperty(AdPopup.parentNode);\n    };\n    var hideMonthForecastAds = function hideMonthForecastAds() {\n      var _contentSections$, _contentSections$$chi, _contentSections$$chi2;\n      var contentSections = browser.document.querySelectorAll('.content__section');\n      var adsClassName = (_contentSections$ = contentSections[0]) === null || _contentSections$ === void 0 ? void 0 : (_contentSections$$chi = _contentSections$.children[1]) === null || _contentSections$$chi === void 0 ? void 0 : (_contentSections$$chi2 = _contentSections$$chi.firstElementChild) === null || _contentSections$$chi2 === void 0 ? void 0 : _contentSections$$chi2.classList[0];\n      if (!adsClassName) {\n        return;\n      }\n      hideAdsByClassName(adsClassName);\n    };\n    var hideMapForecastAds = function hideMapForecastAds() {\n      var adsElements = browser.document.querySelectorAll('div[data-bem] > div');\n      var adsDirect = toConsumableArray(adsElements).find(function (adsElement) {\n        var _adsElement$querySele;\n        return ((_adsElement$querySele = adsElement.querySelector('div')) === null || _adsElement$querySele === void 0 ? void 0 : _adsElement$querySele.innerText) === 'Скрыть рекламу';\n      });\n      if (!adsDirect) {\n        return;\n      }\n      hideViaPositionProperty(adsDirect);\n    };\n    observeDomChanges(function () {\n      weatherAds();\n      weatherAdPopup();\n      hideMonthForecastAds();\n      hideMapForecastAds();\n    });\n  }\n  if (browser.location.pathname.startsWith('/maps/')) {\n    var hideSidebarDirect = function hideSidebarDirect() {\n      var _yandexDirectHeader$p, _yandexDirectHeader$p2;\n      var yandexDirectHeader = browser.querySelector('.sidebar-container a[href^=\"https://direct.yandex.ru/\"]');\n      if (!yandexDirectHeader) {\n        return;\n      }\n      var adsContainer = (_yandexDirectHeader$p = yandexDirectHeader.parentNode) === null || _yandexDirectHeader$p === void 0 ? void 0 : (_yandexDirectHeader$p2 = _yandexDirectHeader$p.parentNode) === null || _yandexDirectHeader$p2 === void 0 ? void 0 : _yandexDirectHeader$p2.parentNode;\n      if (!adsContainer || adsContainer.className.startsWith('masstransit')) {\n        return;\n      }\n      hideViaDisplayProperty(adsContainer);\n    };\n    observeDomChanges(function () {\n      hideSidebarDirect();\n    });\n  }\n  if (browser.location.pathname.startsWith('/q/')) {\n    var directAds = function directAds() {\n      var elementAds = browser.document.querySelectorAll('#page script + section div > div, #page div[style] div > div');\n      toConsumableArray(elementAds).forEach(function (elementAd) {\n        var _elementAd$parentNode, _elementAd$parentNode2, _elementAd$firstChild, _elementAd$lastChild;\n        var directAd = elementAd === null || elementAd === void 0 ? void 0 : (_elementAd$parentNode = elementAd.parentNode) === null || _elementAd$parentNode === void 0 ? void 0 : (_elementAd$parentNode2 = _elementAd$parentNode.parentNode) === null || _elementAd$parentNode2 === void 0 ? void 0 : _elementAd$parentNode2.parentNode;\n        if (!directAd) {\n          return;\n        }\n        if (directAd && ((elementAd === null || elementAd === void 0 ? void 0 : (_elementAd$firstChild = elementAd.firstChild) === null || _elementAd$firstChild === void 0 ? void 0 : _elementAd$firstChild.renderRoot) !== undefined || (elementAd === null || elementAd === void 0 ? void 0 : (_elementAd$lastChild = elementAd.lastChild) === null || _elementAd$lastChild === void 0 ? void 0 : _elementAd$lastChild.renderRoot) !== undefined)) {\n          hideViaPositionProperty(directAd);\n        }\n      });\n    };\n    var remainAds = function remainAds() {\n      var remainBlocks = browser.document.querySelectorAll('div > span[class]');\n      toConsumableArray(remainBlocks).forEach(function (remainBlock) {\n        var _remainBlock$parentNo, _remainBlock$parentNo2;\n        var remainAd = (remainBlock === null || remainBlock === void 0 ? void 0 : remainBlock.innerText) === 'Реклама';\n        var adsContainer = remainBlock === null || remainBlock === void 0 ? void 0 : (_remainBlock$parentNo = remainBlock.parentNode) === null || _remainBlock$parentNo === void 0 ? void 0 : (_remainBlock$parentNo2 = _remainBlock$parentNo.parentNode) === null || _remainBlock$parentNo2 === void 0 ? void 0 : _remainBlock$parentNo2.parentNode;\n        if (!remainAd) {\n          return;\n        }\n        if (remainAd && adsContainer) {\n          hideViaPositionProperty(adsContainer);\n        }\n      });\n    };\n    observeDomChanges(function () {\n      directAds();\n      remainAds();\n    });\n  }\n  var addedRules = {};\n  var hideMainPageAds = function hideMainPageAds() {\n    function getMainSelector(x) {\n      if (x.banner && x.banner.cls) {\n        var parentPath = x.banner.cls.banner__parent;\n        if (!parentPath) {\n          parentPath = x.banner.cls['b-banner__content_direct'];\n        }\n        return parentPath;\n      }\n      if (x.banner && x.banner.refresh) {\n        var containerPath = x.banner.refresh.bannerContainer;\n        if (!containerPath) {\n          return null;\n        }\n        return containerPath;\n      }\n      return null;\n    }\n    function removeBanner(x) {\n      var selector = getMainSelector(x);\n      if (selector) {\n        selector = \".\".concat(selector);\n        if (addedRules[selector]) {\n          return;\n        }\n        addedRules[selector] = true;\n        toConsumableArray(browser.querySelectorAll(selector)).forEach(function (banner) {\n          browser.setAttribute(banner, 'style', 'display:none!important');\n        });\n        toConsumableArray(browser.document.styleSheets).forEach(function (sheet) {\n          try {\n            if (sheet.disabled) {\n              return;\n            }\n            var cssRules = safeGetStylesheetRules(sheet);\n            for (var i = 0; i < cssRules.length; i += 1) {\n              var rule = cssRules[i];\n              if (rule.cssText.includes(' 728px 90px')) {\n                sheet.disabled = true;\n                continue;\n              }\n            }\n          } catch (_unused) {}\n        });\n        return;\n      }\n      if (addedRules['div-hidden-by-size']) {\n        return;\n      }\n      var divCollection = browser.querySelectorAll('div.main div');\n      toConsumableArray(divCollection).forEach(function (elem) {\n        if (elem.clientWidth === 728 && elem.clientHeight === 90) {\n          elem.remove();\n          addedRules['div-hidden-by-size'] = true;\n        }\n      });\n    }\n    if (browser.window.home && browser.window.home.export) {\n      removeBanner(browser.window.home.export);\n    }\n  };\n  var findAds = function findAds() {\n    var adIds = [];\n    if (!browser.window.Ya) {\n      return adIds;\n    }\n    Object.keys(browser.window.Ya).forEach(function (key) {\n      var value = browser.window.Ya[key];\n      if (!value || !value.adUsageStorageVars || !value.adUsageStorageVars.ads || !value.adUsageStorageVars.ads.list) {\n        return;\n      }\n      value.adUsageStorageVars.ads.list.forEach(function (el) {\n        if (el.renderTo && !adIds.includes(el.renderTo)) {\n          adIds.push(el.renderTo);\n        }\n      });\n    });\n    return adIds;\n  };\n  var hideYaDirectAds = function hideYaDirectAds() {\n    var adIds = findAds();\n    if (!adIds || adIds.length === 0) {\n      return;\n    }\n    var styleSheet = toConsumableArray(browser.document.styleSheets).find(function (sheet) {\n      if (safeGetStylesheetRules(sheet).length > 0 && !sheet.disabled) {\n        return true;\n      }\n      return false;\n    });\n    if (!styleSheet) {\n      return;\n    }\n    adIds.forEach(function (id) {\n      var el = browser.document.getElementById(id);\n      if (!el) {\n        return;\n      }\n      var selector = \"#\".concat(id);\n      var classAttr = el.getAttribute('class');\n      if (classAttr) {\n        selector = \"[class=\\\"\".concat(classAttr, \"\\\"]\");\n      }\n      var cssRule = \"\".concat(selector, \" { display: none!important; }\");\n      if (!addedRules[cssRule]) {\n        addedRules[cssRule] = true;\n        styleSheet.insertRule(cssRule);\n      }\n    });\n  };\n  var hideYandexBrowserAds = function hideYandexBrowserAds() {\n    var adsContainer = browser.querySelector('.container__banner');\n    if (adsContainer && adsContainer.querySelector('[class^=\"direct\"]')) {\n      hideViaPositionProperty(adsContainer);\n    }\n  };\n  var oneDirectZenFeed = function oneDirectZenFeed() {\n    var zenCategories = browser.querySelectorAll('.placeholder-card__container');\n    toConsumableArray(zenCategories).forEach(function (zenCategorie) {\n      var _zenCategorie$firstEl;\n      var zenChildAttributes = (_zenCategorie$firstEl = zenCategorie.firstElementChild) === null || _zenCategorie$firstEl === void 0 ? void 0 : _zenCategorie$firstEl.attributes;\n      if (!zenChildAttributes) {\n        return;\n      }\n      for (var i = 0; i < zenChildAttributes.length; i += 1) {\n        if (zenChildAttributes[i] && /^[a-zA-Z0-9]{2}_[a-zA-Z0-9]{2}$/.test(zenChildAttributes[i].value)) {\n          hideViaPositionProperty(zenCategorie);\n        }\n      }\n    });\n  };\n  browser.document.addEventListener('DOMContentLoaded', function () {\n    hideMainPageAds();\n    hideYaDirectAds();\n  }, false);\n  observeDomChanges(function () {\n    hideYandexBrowserAds();\n    hideMainPageAds();\n    hideYaDirectAds();\n    hideFeedsAdsBlocks();\n    oneDirectZenFeed();\n  });\n}if (isMatchingHostnames('kinopoisk.ru')) {\n  var hideAdblockWarning = function hideAdblockWarning() {\n    var node = browser.querySelector('div[class^=\"adblock-warning\"]');\n    removeNode(node);\n  };\n  var hideBrandingAds = function hideBrandingAds() {\n    var probeStyles = browser.querySelectorAll('style[id]');\n    toConsumableArray(probeStyles).forEach(function (styleEl) {\n      if (styleEl.sheet && styleEl.sheet.rules.length <= 10) {\n        removeNode(styleEl);\n      }\n    });\n    iterateCSSRules(function (rule) {\n      if (rule.selectorText && rule.selectorText.indexOf('.kinopoisk-header-branding__link') === 0) {\n        hideViaDisplayProperty(rule);\n      } else if (rule.selectorText && rule.selectorText.indexOf('.kinopoisk-header-branding__image') === 0) {\n        rule.style.visibility = 'hidden';\n      }\n    });\n    toConsumableArray(browser.querySelectorAll('.page-content > div[id]:not([class])')).forEach(function (probe) {\n      if (probe.querySelector(':scope > div[id][style]')) {\n        removeNode(probe);\n      }\n    });\n  };\n  var hideAdsByStylesheet = function hideAdsByStylesheet() {\n    var adsSheet = browser.querySelector('.mb-style-tag');\n    if (!adsSheet || !adsSheet.sheet || adsSheet.sheet.cssRules.length !== 1) {\n      return;\n    }\n    hideViaDisplayProperty(adsSheet.sheet.cssRules[0]);\n  };\n  observeDomChanges(function () {\n    hideAdblockWarning();\n    hideBrandingAds();\n    hideAdsByStylesheet();\n  });\n}if (isMatchingHostnames('yandex.ru', 'yandex.kz', 'yandex.by', 'yandex.ua', 'yandex.md', 'yandex.fr', 'yandex.com.tr', 'yandex.com') && browser.location.pathname.startsWith('/news')) {\n  var hideSidebarAds = function hideSidebarAds() {\n    var newsContainer = browser.document.querySelector('.mg-grid__row');\n    var sideBar = newsContainer === null || newsContainer === void 0 ? void 0 : newsContainer.lastElementChild;\n    var stickyAds = sideBar === null || sideBar === void 0 ? void 0 : sideBar.firstElementChild;\n    if (stickyAds && !stickyAds.classList.contains('mg-grid__row')) {\n      hideViaPositionProperty(stickyAds);\n    }\n  };\n  var hideGridAds = function hideGridAds() {\n    var gridItems = browser.document.querySelectorAll('.mg-grid__col > .mg-grid__item');\n    toConsumableArray(gridItems).forEach(function (item) {\n      if (item.children && item.children.length === 1 && item.tagName !== 'ARTICLE') {\n        hideViaPositionProperty(item);\n      }\n    });\n  };\n  var hideRubricAds = function hideRubricAds() {\n    var rubricsHeaders = browser.document.querySelectorAll('.news-top-rubric-heading');\n    toConsumableArray(rubricsHeaders).forEach(function (item) {\n      if (item.firstElementChild && item.firstElementChild.innerText === 'Реклама') {\n        hideViaPositionProperty(item);\n        hideViaPositionProperty(item.nextElementSibling);\n      }\n    });\n  };\n  var hideYandexDirect = function hideYandexDirect() {\n    var _mainContainer$firstE, _layout$, _layout$$firstElement;\n    var mainContainer = browser.document.querySelector('[role=\"main\"]');\n    var layout = mainContainer === null || mainContainer === void 0 ? void 0 : (_mainContainer$firstE = mainContainer.firstElementChild) === null || _mainContainer$firstE === void 0 ? void 0 : _mainContainer$firstE.children;\n    if (layout && layout.length === 2 && ((_layout$ = layout[0]) === null || _layout$ === void 0 ? void 0 : (_layout$$firstElement = _layout$.firstElementChild) === null || _layout$$firstElement === void 0 ? void 0 : _layout$$firstElement.tagName) === 'H3') {\n      var sidebar = layout[1];\n      hideViaPositionProperty(sidebar);\n      var newsContainer = layout[0];\n      var newsAds = newsContainer === null || newsContainer === void 0 ? void 0 : newsContainer.lastElementChild;\n      hideViaPositionProperty(newsAds);\n    }\n  };\n  var mobileDirect = function mobileDirect() {\n    if (navigator.userAgent.match('Mobile')) {\n      var mobileAds = browser.querySelectorAll('.news-app > div[class] > div[class][data-log-id], .news-feed > div[class][data-log-id]');\n      toConsumableArray(mobileAds).forEach(function (mobileAd) {\n        var _mobileAd$firstElemen;\n        var elementNearRoot = mobileAd === null || mobileAd === void 0 ? void 0 : (_mobileAd$firstElemen = mobileAd.firstElementChild) === null || _mobileAd$firstElemen === void 0 ? void 0 : _mobileAd$firstElemen.firstElementChild;\n        if (elementNearRoot && elementNearRoot.renderRoot !== undefined) {\n          hideViaPositionProperty(mobileAd);\n        }\n      });\n    }\n  };\n  observeDomChanges(function () {\n    hideSidebarAds();\n    hideRubricAds();\n    hideGridAds();\n    hideYandexDirect();\n    mobileDirect();\n  });\n}if (isMatchingHostnames('mail.yandex.ru', 'mail.yandex.kz', 'mail.yandex.by', 'mail.yandex.ua', 'mail.yandex.md')) {\n  var removeHeaderAds = function removeHeaderAds() {\n    var infolineBox = browser.document.querySelector('.ns-view-infoline-box');\n    if (!infolineBox) {\n      return;\n    }\n    var adsBox = infolineBox.nextElementSibling;\n    if (adsBox && adsBox.nextElementSibling && adsBox.nextElementSibling.classList[0] === 'ns-view-right-box') {\n      hideViaPositionProperty(adsBox);\n    }\n  };\n  var removeMailAds = function removeMailAds() {\n    toConsumableArray(browser.document.styleSheets).forEach(function (sheet) {\n      if (!sheet.href || browser.location.hostname !== new URL(sheet.href).hostname) {\n        return;\n      }\n      var rules = toConsumableArray(safeGetStylesheetRules(sheet));\n      if (rules.length > 60) {\n        return;\n      }\n      rules.forEach(function (rule) {\n        if (rule.selectorText && /^\\..[a-zA-Z0-9_]{5,}$/.test(rule.selectorText) && rule.style.display !== 'none') {\n          rule.style.display = 'none';\n        }\n      });\n    });\n  };\n  var removeSiderbarAds = function removeSiderbarAds() {\n    var _adsIframe$parentNode;\n    var adsIframe = document.querySelector('.mail-Layout-Aside iframe');\n    if (!adsIframe) {\n      return;\n    }\n    var adsContainer = (_adsIframe$parentNode = adsIframe.parentNode) === null || _adsIframe$parentNode === void 0 ? void 0 : _adsIframe$parentNode.parentNode;\n    if (adsContainer && !adsContainer.classList[0].startsWith('ns-view-')) {\n      hideViaPositionProperty(adsContainer);\n    }\n  };\n  observeDomChanges(function () {\n    removeMailAds();\n    removeHeaderAds();\n    removeSiderbarAds();\n  });\n}if (isMatchingHostnames('afisha.yandex.ru', 'afisha.yandex.kz', 'afisha.yandex.by', 'afisha.yandex.ua', 'afisha.yandex.md')) {\n  var isNoindex = function isNoindex(element) {\n    if (!element) {\n      return false;\n    }\n    return !!(element.previousSibling && element.nextSibling && element.previousSibling.textContent === 'noindex' && element.nextSibling.textContent === '/noindex');\n  };\n  var hideTopBanner = function hideTopBanner() {\n    try {\n      var topBanner = browser.document.querySelector('main > .events-feed').nextElementSibling.firstElementChild.firstElementChild;\n      if (isNoindex(topBanner)) {\n        hideViaPositionProperty(topBanner);\n      }\n    } catch (_unused) {}\n  };\n  var hideBannerAfterHeader = function hideBannerAfterHeader() {\n    try {\n      var container = browser.document.querySelector('header + .page-content').firstElementChild.firstElementChild;\n      toConsumableArray(container.children).forEach(function (childItem) {\n        if (isNoindex(childItem.firstElementChild)) {\n          hideViaPositionProperty(childItem);\n        }\n      });\n    } catch (_unused2) {}\n  };\n  var hideSidebarAds$1 = function hideSidebarAds() {\n    try {\n      var sidebarAds = browser.document.querySelector('aside > .sidebar');\n      toConsumableArray(sidebarAds.children).forEach(function (siderbarItem) {\n        if (isNoindex(siderbarItem.firstElementChild)) {\n          hideViaPositionProperty(siderbarItem);\n        }\n      });\n    } catch (_unused3) {}\n  };\n  var hideEventsAds = function hideEventsAds() {\n    try {\n      var eventAttributes = browser.document.querySelector('.event-attributes').parentNode;\n      toConsumableArray(eventAttributes.children).forEach(function (item) {\n        if (isNoindex(item)) {\n          hideViaPositionProperty(item);\n        }\n      });\n    } catch (_unused4) {}\n  };\n  var hideEventsBanner = function hideEventsBanner() {\n    try {\n      toConsumableArray(browser.document.querySelectorAll('.events-list__list')).forEach(function (eventList) {\n        toConsumableArray(eventList.children).forEach(function (eventItem) {\n          if (isNoindex(eventItem.firstElementChild)) {\n            hideViaPositionProperty(eventItem);\n          }\n        });\n      });\n    } catch (_unused5) {}\n  };\n  var hideFooterAds = function hideFooterAds() {\n    try {\n      var footerAdsContainer = browser.document.querySelector('.viewed-events-loader').previousElementSibling;\n      if (isNoindex(footerAdsContainer)) {\n        hideViaPositionProperty(footerAdsContainer);\n      }\n    } catch (_unused6) {}\n  };\n  var hideFooterBanner = function hideFooterBanner() {\n    try {\n      var footerBanner = browser.document.querySelector('[class$=\"__foot-wrapper\"] > .grid__inner').firstElementChild;\n      if (isNoindex(footerBanner)) {\n        hideViaPositionProperty(footerBanner);\n      }\n    } catch (_unused7) {}\n  };\n  observeDomChanges(function () {\n    hideTopBanner();\n    hideBannerAfterHeader();\n    hideSidebarAds$1();\n    hideEventsAds();\n    hideEventsBanner();\n    hideFooterAds();\n    hideFooterBanner();\n  });\n}if (isMatchingHostnames('tv.yandex.ru', 'tv.yandex.kz', 'tv.yandex.by', 'tv.yandex.ua', 'tv.yandex.md')) {\n  var hideSimilarAds = function hideSimilarAds(adsBlock) {\n    var _adsBlock$firstElemen;\n    var adsClassNames = adsBlock === null || adsBlock === void 0 ? void 0 : (_adsBlock$firstElemen = adsBlock.firstElementChild) === null || _adsBlock$firstElemen === void 0 ? void 0 : _adsBlock$firstElemen.classList;\n    if (!adsClassNames) {\n      return;\n    }\n    toConsumableArray(adsClassNames).forEach(function (className) {\n      if (className.endsWith('__wrapper')) {\n        var adsElements = browser.document.getElementsByClassName(className);\n        toConsumableArray(adsElements).forEach(function (ads) {\n          hideViaPositionProperty(ads);\n        });\n      }\n    });\n  };\n  var hideFakeContent = function hideFakeContent(selector) {\n    var contentBlocks = browser.document.querySelectorAll(selector);\n    if (!contentBlocks || contentBlocks.length !== 2) {\n      return;\n    }\n    var adsBlock = contentBlocks[1];\n    if (!adsBlock.querySelector('.content__header')) {\n      hideViaPositionProperty(adsBlock);\n      hideSimilarAds(adsBlock);\n    }\n  };\n  var hideHeaderBanner = function hideHeaderBanner() {\n    try {\n      var contentHeader = browser.document.querySelector('.content__header');\n      var ads = contentHeader.previousElementSibling;\n      if (!ads.style.backgroundImage || !ads.querySelector('a[target=\"_blank\"]')) {\n        return;\n      }\n      hideViaPositionProperty(ads);\n    } catch (_unused) {}\n  };\n  var hideGridAds$1 = function hideGridAds() {\n    try {\n      var grid = browser.document.querySelectorAll('[class^=\"grid__\"]');\n      var areas = ['adv / adv / adv / adv', 'wide / wide / wide / wide'];\n      toConsumableArray(grid).forEach(function (elem) {\n        if (areas.includes(getComputedStyle(elem).gridArea)) {\n          hideViaPositionProperty(elem);\n          hideSimilarAds(elem);\n        }\n      });\n    } catch (_unused2) {}\n  };\n  observeDomChanges(function () {\n    hideGridAds$1();\n    hideHeaderBanner();\n    if (browser.window.innerWidth > 1000) {\n      hideFakeContent('main > [class^=\"content__\"]');\n      hideFakeContent('main > div > [class^=\"content__\"]');\n    }\n  });\n}var removeMailAdsOverride = function removeMailAdsOverride() {\n  if (typeof unsafeWindow === 'undefined') {\n    return;\n  }\n  var magic = generateRandomString();\n  Object.defineProperty(unsafeWindow.Object.prototype, 'componentWillMount', {\n    get: function get() {\n      var v = this[magic];\n      if (typeof v !== 'function' || v.toString().indexOf('getDerivedStateFromProps') >= 0) {\n        return v;\n      }\n      return function () {\n        this.items = [];\n      };\n    },\n    set: function set(v) {\n      this[magic] = v;\n    }\n  });\n};\nvar hideLeftSidebarAds = function hideLeftSidebarAds() {\n  var n = 3;\n  toConsumableArray(browser.document.styleSheets).forEach(function (sheet) {\n    toConsumableArray(safeGetStylesheetRules(sheet)).forEach(function (rule) {\n      if (rule.selectorText && rule.selectorText.includes(', .b-layout__col_1_2')) {\n        try {\n          var leftSidebar = toConsumableArray(browser.document.querySelectorAll(rule.selectorText));\n          var ads = leftSidebar[leftSidebar.length - 1].children;\n          for (var i = ads.length - n; i < ads.length; i += 1) {\n            hideViaDisplayProperty(ads[i]);\n          }\n        } catch (_unused) {}\n      }\n    });\n  });\n};\nvar hideGridAds$2 = function hideGridAds() {\n  var adsItems = browser.document.querySelectorAll('span.pl_cs');\n  if (!adsItems) {\n    return;\n  }\n  toConsumableArray(adsItems).forEach(function (ads) {\n    var adsContainer = ads.parentNode.parentNode.parentNode.parentNode.parentNode;\n    if (adsContainer && ads.innerText === 'Реклама' && adsContainer.id.startsWith('_pcard')) {\n      hideViaDisplayProperty(adsContainer);\n    }\n  });\n};\nvar isOldInterface = function isOldInterface() {\n  return browser.location.pathname.indexOf('/messages/') === 0;\n};\nif (isMatchingHostnames('e.mail.ru')) {\n  if (isOldInterface()) {\n    removeMailAdsOverride();\n  }\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(', .layout__column_right');\n    hideCssRulesBySelectorText('.layer-sent-page__banner');\n    if (isOldInterface()) {\n      hideLeftSidebarAds();\n      hideCssRulesBySelectorText(', .b-datalist__head__item_rb');\n    }\n  });\n}\nif (isMatchingHostnames('octavius.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(', .layout__column_right');\n    hideCssRulesBySelectorText('.layer-sent-page__banner');\n  });\n}\nif (isMatchingHostnames('mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText('.rectangle-banner');\n    hideGridAds$2();\n  });\n}var isAdsStyle = function isAdsStyle(rules) {\n  if (rules.length <= 10) {\n    var result = true;\n    toConsumableArray(rules).forEach(function (rule) {\n      if (rule.style && (!rule.style.backgroundImage || rule.style.backgroundImage.endsWith('.png\")') || rule.style.backgroundImage.endsWith('.svg\")'))) {\n        result = false;\n      }\n    });\n    return result;\n  }\n  return false;\n};\nvar hideAdsByBackgroundImage = function hideAdsByBackgroundImage() {\n  var pulseLenta = browser.querySelector('.pulse-lenta');\n  var styles = browser.document.querySelectorAll('style');\n  toConsumableArray(styles).forEach(function (style) {\n    var rules = safeGetStylesheetRules(style.sheet);\n    if (isAdsStyle(rules)) {\n      toConsumableArray(rules).forEach(function (rule) {\n        var _adsImage$parentNode, _adsImage$parentNode$;\n        var adsImage = browser.querySelector(rule.selectorText);\n        if (pulseLenta && pulseLenta.contains(adsImage)) {\n          return;\n        }\n        var adsBlock = adsImage === null || adsImage === void 0 ? void 0 : (_adsImage$parentNode = adsImage.parentNode) === null || _adsImage$parentNode === void 0 ? void 0 : (_adsImage$parentNode$ = _adsImage$parentNode.parentNode) === null || _adsImage$parentNode$ === void 0 ? void 0 : _adsImage$parentNode$.parentNode;\n        if (!adsBlock) {\n          return;\n        }\n        hideViaDisplayProperty(adsBlock);\n      });\n    }\n  });\n};\nif (isMatchingHostnames('news.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/, \\.p-directhack|, \\.cols_experiment-1/);\n    hideAdsByBackgroundImage();\n  });\n}\nif (isMatchingHostnames('mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/\\.spring_side|\\.p-directhack|\\.rb-direct-mimic_index|\\.deti-slot_box|\\.health-slot_box|\\.spring|\\.rb-direct-wrapper|\\.rb_body|\\.rb-direct-side|\\.news-item__link|\\.notify/);\n  });\n}\nif (isMatchingHostnames('auto.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/\\.rb_main-240x400|\\.trg-banners|\\.rb_hide_by_parallax/);\n  });\n}\nif (isMatchingHostnames('sportmail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/\\.cols_experiment-1|\\.p-spring/);\n    hideAdsByBackgroundImage();\n  });\n}\nif (isMatchingHostnames('horo.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/\\.incut_full|\\.cols__column_sidebar/);\n  });\n}\nif (isMatchingHostnames('hi-tech.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText(/\\.sticky-springs__item|\\.cols__column_asd|\\.viewbox__side/);\n    hideAdsByBackgroundImage();\n  });\n}\nif (isMatchingHostnames('deti.mail.ru')) {\n  observeDomChanges(function () {\n    hideAdsByBackgroundImage();\n  });\n}\nif (isMatchingHostnames('lady.mail.ru')) {\n  observeDomChanges(function () {\n    hideCssRulesBySelectorText('.cols_experiment-1');\n  });\n}if (isMatchingHostnames('music.yandex.ru', 'music.yandex.kz', 'music.yandex.by', 'music.yandex.ua', 'music.yandex.md')) {\n  var removeHeaderAds$1 = function removeHeaderAds() {\n    var _browser$document$que;\n    var headerAdsBlock = (_browser$document$que = browser.document.querySelector('.adfox-brick')) === null || _browser$document$que === void 0 ? void 0 : _browser$document$que.previousElementSibling;\n    if (headerAdsBlock && headerAdsBlock.querySelector('.d-overhead__close')) {\n      hideViaPositionProperty(headerAdsBlock);\n    }\n  };\n  observeDomChanges(function () {\n    removeHeaderAds$1();\n  });\n}if (isMatchingHostnames('ok.ru')) {\n  var mimicBannerSelectors = ['#RightColumnBannerInner', '#hook_Block_ViewportHeightAwareBanner'];\n  var isMimicAdStyle = function isMimicAdStyle(selectorText) {\n    if (mimicBannerSelectors.some(function (mimicStyle) {\n      return selectorText.includes(mimicStyle);\n    })) {\n      return true;\n    }\n    return false;\n  };\n  var removeOkAds = function removeOkAds() {\n    toConsumableArray(browser.document.styleSheets).forEach(function (sheet) {\n      toConsumableArray(safeGetStylesheetRules(sheet)).forEach(function (rule) {\n        if (rule.selectorText && isMimicAdStyle(rule.selectorText) && rule.style.display !== 'none') {\n          rule.style.display = 'none';\n        }\n      });\n    });\n  };\n  var removeOkFeedAds = function removeOkFeedAds() {\n    var feedItems = document.querySelectorAll('.feed-list > .feed-w > [data-feed-id]');\n    feedItems.forEach(function (item) {\n      if (item.style.display === 'none') {\n        return;\n      }\n      var feedTopItems = item.querySelectorAll('.feed_top .feed_ava+div > div[class]');\n      feedTopItems.forEach(function (topItem) {\n        if (topItem.innerText === 'Реклама' || topItem.innerText === 'Ad') {\n          item.style.display = 'none';\n        }\n      });\n      var adMarker = item.querySelector('.feed_top .feed_count > div');\n      if (!adMarker) {\n        return;\n      }\n      if (adMarker.innerText === 'Реклама' || adMarker.innerText === 'Ad') {\n        item.style.display = 'none';\n      }\n    });\n  };\n  observeDomChanges(function () {\n    removeOkAds();\n    removeOkFeedAds();\n  });\n}function isInsideCircumventionScript() {\n  if (!document.currentScript || !document.currentScript.innerText) {\n    return false;\n  }\n  var scriptText = document.currentScript.innerText;\n  if (scriptText.length > 100000 && scriptText.indexOf('window.Adf') > 0 && scriptText.indexOf('checkAdPlace') > 0) {\n    return true;\n  }\n  return false;\n}\nvar hasSimilarAttributes = function hasSimilarAttributes(children) {\n  if (children.length === 1) {\n    return false;\n  }\n  for (var i = 1; i < children.length; i += 1) {\n    var _children, _children$attributes$, _children$i, _children$i$attribute;\n    if (((_children = children[i - 1]) === null || _children === void 0 ? void 0 : (_children$attributes$ = _children.attributes[0]) === null || _children$attributes$ === void 0 ? void 0 : _children$attributes$.value) !== ((_children$i = children[i]) === null || _children$i === void 0 ? void 0 : (_children$i$attribute = _children$i.attributes[0]) === null || _children$i$attribute === void 0 ? void 0 : _children$i$attribute.value)) {\n      return false;\n    }\n  }\n  return true;\n};\nvar hideYandexDirectByLink = function hideYandexDirectByLink() {\n  var adsImg = browser.document.querySelectorAll('a[target=\"_blank\"][style^=\"background-image: url(\\'//\"]');\n  toConsumableArray(adsImg).forEach(function (img) {\n    var _img$parentNode, _img$parentNode2, _img$parentNode2$pare;\n    var adsBlockType1 = img === null || img === void 0 ? void 0 : (_img$parentNode = img.parentNode) === null || _img$parentNode === void 0 ? void 0 : _img$parentNode.parentNode;\n    var adsBlockType2 = img === null || img === void 0 ? void 0 : (_img$parentNode2 = img.parentNode) === null || _img$parentNode2 === void 0 ? void 0 : (_img$parentNode2$pare = _img$parentNode2.parentNode) === null || _img$parentNode2$pare === void 0 ? void 0 : _img$parentNode2$pare.parentNode;\n    if (hasSimilarAttributes(adsBlockType1 === null || adsBlockType1 === void 0 ? void 0 : adsBlockType1.children)) {\n      hideViaDisplayProperty(adsBlockType1);\n    }\n    if (hasSimilarAttributes(adsBlockType2 === null || adsBlockType2 === void 0 ? void 0 : adsBlockType2.children)) {\n      hideViaDisplayProperty(adsBlockType2);\n    }\n  });\n};\nvar hideYandexDirectByStyle = function hideYandexDirectByStyle() {\n  var styleSheets = browser.document.getElementsByTagName('style');\n  toConsumableArray(styleSheets).forEach(function (styleSheet) {\n    var rules = toConsumableArray(safeGetStylesheetRules(styleSheet.sheet));\n    var firstRule = rules[0];\n    if (rules.length > 50 || !firstRule) {\n      return;\n    }\n    if (firstRule.selectorText && /[a-zA-Z0-9]{2,8}\\[[a-zA-Z0-9]{2,8}\\*=\"[a-zA-Z0-9]{2,10}\"]/.test(firstRule.selectorText)) {\n      hideViaPositionProperty(firstRule);\n    }\n  });\n};\nif (isMatchingHostnames('rambler.ru', 'championat.com', 'gazeta.ru', 'lenta.ru', 'quto.ru', 'rns.online', 'passion.ru')) {\n  var realUA = navigator.userAgent;\n  var getUserAgent = function getUserAgent() {\n    if (isInsideCircumventionScript()) {\n      return 'MSIE ';\n    }\n    return realUA;\n  };\n  Object.defineProperty(browser.window.navigator, 'userAgent', {\n    get: getUserAgent\n  });\n  var realPromise = browser.window.Promise;\n  Object.defineProperty(browser.window, 'Promise', {\n    get: function get() {\n      if (isInsideCircumventionScript()) {\n        throw new TypeError('Failed to fetch');\n      }\n      return realPromise;\n    },\n    set: function set(value) {\n      realPromise = value;\n    }\n  });\n  observeDomChanges(function () {\n    hideYandexDirectByLink();\n    hideYandexDirectByStyle();\n  });\n}if (isMatchingHostnames('drive2.ru', 'drive2.com')) {\n  var hideAdsByStylesheet$1 = function hideAdsByStylesheet() {\n    var adsSheet = browser.querySelector('.mb-style-tag');\n    if (!adsSheet || !adsSheet.sheet || adsSheet.sheet.cssRules.length !== 1) {\n      return;\n    }\n    adsSheet.sheet.cssRules[0].style.display = 'none';\n  };\n  var hideGridAds$3 = function hideGridAds() {\n    if (browser.location.pathname.startsWith('/cars/')) {\n      var girdFirstElements = browser.querySelectorAll('.o-grid > .c-car-card-sa:first-child');\n      girdFirstElements.forEach(function (gridElement) {\n        var _gridElement$parentNo;\n        var gridElements = gridElement === null || gridElement === void 0 ? void 0 : (_gridElement$parentNo = gridElement.parentNode) === null || _gridElement$parentNo === void 0 ? void 0 : _gridElement$parentNo.children;\n        if (!gridElements) {\n          return;\n        }\n        toConsumableArray(gridElements).forEach(function (element) {\n          if (element.className !== gridElement.className) {\n            element.style.visibility = 'hidden';\n          }\n        });\n      });\n    }\n  };\n  var hideMarketAds = function hideMarketAds() {\n    var _marketFirstElement$p;\n    var marketFirstElement = browser.querySelector('.js-market-offers > .offer-card');\n    var marketElements = marketFirstElement === null || marketFirstElement === void 0 ? void 0 : (_marketFirstElement$p = marketFirstElement.parentNode) === null || _marketFirstElement$p === void 0 ? void 0 : _marketFirstElement$p.children;\n    if (!marketElements) {\n      return;\n    }\n    toConsumableArray(marketElements).forEach(function (element) {\n      if (element.className !== marketFirstElement.className) {\n        hideViaDisplayProperty(element);\n      }\n    });\n  };\n  observeDomChanges(function () {\n    hideAdsByStylesheet$1();\n    hideGridAds$3();\n    hideMarketAds();\n  });\n}if (isMatchingHostnames('eda.ru')) {\n  var areEqual = function areEqual() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    for (var i = 1; i < args.length; i += 1) {\n      if (args[i] === null || args[i] !== args[i - 1]) {\n        return false;\n      }\n    }\n    return true;\n  };\n  var hideTopBanner$1 = function hideTopBanner() {\n    try {\n      var body = browser.document.querySelector('body');\n      var bodyChildren = toConsumableArray(body.children);\n      var pageWrapper = browser.document.querySelector('header').parentNode;\n      var pageWrapperIndex = bodyChildren.indexOf(pageWrapper);\n      if (pageWrapperIndex === -1) {\n        return;\n      }\n      var elementsBeforePageWrapper = bodyChildren.slice(0, pageWrapperIndex);\n      var lastScriptIndex;\n      elementsBeforePageWrapper.forEach(function (element, index) {\n        if (element.tagName === 'SCRIPT') {\n          lastScriptIndex = index;\n        }\n      });\n      if (lastScriptIndex === 'undefined') {\n        return;\n      }\n      for (var i = lastScriptIndex + 1; i < pageWrapperIndex; i += 1) {\n        hideViaDisplayProperty(elementsBeforePageWrapper[i]);\n      }\n    } catch (_unused) {}\n  };\n  var hideFooterAds$1 = function hideFooterAds() {\n    try {\n      var footerAds = browser.document.querySelector('#superfooter').previousSibling;\n      if (footerAds.children.length === 3 && areEqual(footerAds.children[0].attributes[0].textContent, footerAds.children[1].attributes[0].textContent, footerAds.children[2].attributes[0].textContent)) {\n        hideViaDisplayProperty(footerAds);\n      }\n    } catch (_unused2) {}\n  };\n  observeDomChanges(function () {\n    hideTopBanner$1();\n    hideFooterAds$1();\n  });\n}var hideHeaderBanner$1 = function hideHeaderBanner() {\n  var header = browser.document.querySelector('header');\n  if (!header) {\n    return;\n  }\n  var adsContainer = header.previousElementSibling;\n  if (!adsContainer) {\n    return;\n  }\n  var ignoredNodeTypes = ['DIV', 'SCRIPT', 'STYLE'];\n  if (ignoredNodeTypes.find(function (nodeType) {\n    return adsContainer.nodeName !== nodeType;\n  })) {\n    hideViaDisplayProperty(adsContainer);\n  }\n};\nvar hideSidebarAds$2 = function hideSidebarAds() {\n  var layoutSidebar = browser.document.querySelector('.LayoutSidebar');\n  if (!layoutSidebar) {\n    return;\n  }\n  toConsumableArray(layoutSidebar.children).forEach(function (child) {\n    if (child.className !== 'LayoutSidebar__content') {\n      hideViaPositionProperty(child.firstElementChild);\n    }\n  });\n};\nvar hideFilterBanner = function hideFilterBanner() {\n  var priceRange = browser.document.querySelector('#priceRange');\n  if (!priceRange) {\n    return;\n  }\n  var filterBanner = priceRange.nextElementSibling;\n  if (filterBanner && !filterBanner.className) {\n    hideViaPositionProperty(filterBanner);\n  }\n};\nvar hideMiniBanner = function hideMiniBanner() {\n  var _miniBannerLink$paren, _miniBannerLink$paren2;\n  var miniBannerLink = browser.document.querySelector('a[target$=\"_blank\"][href^=\"https://an.yandex.ru\"]');\n  if (!miniBannerLink) {\n    return;\n  }\n  var miniBanner = miniBannerLink === null || miniBannerLink === void 0 ? void 0 : (_miniBannerLink$paren = miniBannerLink.parentNode) === null || _miniBannerLink$paren === void 0 ? void 0 : (_miniBannerLink$paren2 = _miniBannerLink$paren.parentNode) === null || _miniBannerLink$paren2 === void 0 ? void 0 : _miniBannerLink$paren2.parentNode;\n  if (miniBanner && getComputedStyle(miniBanner).width === '240px') {\n    hideViaPositionProperty(miniBanner);\n  }\n};\nif (isMatchingHostnames('media.auto.ru')) {\n  observeDomChanges(function () {\n    hideHeaderBanner$1();\n  });\n}\nif (isMatchingHostnames('auto.ru')) {\n  observeDomChanges(function () {\n    hideFilterBanner();\n    hideMiniBanner();\n    hideHeaderBanner$1();\n    hideSidebarAds$2();\n  });\n}if (isMatchingHostnames('wp.pl')) {\n  var hideAdsByStylesheet$2 = function hideAdsByStylesheet() {\n    var _browser$querySelecto, _browser$querySelecto2;\n    var adsSheetRules = (_browser$querySelecto = browser.querySelector('style[data-id=wpcss]')) === null || _browser$querySelecto === void 0 ? void 0 : (_browser$querySelecto2 = _browser$querySelecto.sheet) === null || _browser$querySelecto2 === void 0 ? void 0 : _browser$querySelecto2.cssRules;\n    if (!adsSheetRules) {\n      return;\n    }\n    toConsumableArray(adsSheetRules).forEach(function (rule) {\n      var _rule$style, _rule$style2;\n      if ((rule === null || rule === void 0 ? void 0 : (_rule$style = rule.style) === null || _rule$style === void 0 ? void 0 : _rule$style.width) === '320px' && (rule === null || rule === void 0 ? void 0 : (_rule$style2 = rule.style) === null || _rule$style2 === void 0 ? void 0 : _rule$style2.height) === '40px') {\n        hideViaDisplayProperty(rule);\n      }\n    });\n  };\n  var hidePolecaneAds = function hidePolecaneAds() {\n    browser.querySelectorAll('span').forEach(function (element) {\n      if ((element === null || element === void 0 ? void 0 : element.textContent) === 'REKLAMA') {\n        hideViaDisplayProperty(element === null || element === void 0 ? void 0 : element.parentNode);\n      }\n    });\n  };\n  observeDomChanges(function () {\n    hidePolecaneAds();\n    hideAdsByStylesheet$2();\n  });\n}var hideSidebarAds$3 = function hideSidebarAds() {\n  iterateCSSRules(function (rule) {\n    if (rule.cssText.includes('{ content: url(\"data:image/jpeg;base64')) {\n      var _adsImage$parentNode, _adsImage$parentNode$, _adsImage$parentNode$2, _adsImage$parentNode$3;\n      var adsImage = browser.querySelector(rule.selectorText);\n      var adsBlock = adsImage === null || adsImage === void 0 ? void 0 : (_adsImage$parentNode = adsImage.parentNode) === null || _adsImage$parentNode === void 0 ? void 0 : (_adsImage$parentNode$ = _adsImage$parentNode.parentNode) === null || _adsImage$parentNode$ === void 0 ? void 0 : (_adsImage$parentNode$2 = _adsImage$parentNode$.parentNode) === null || _adsImage$parentNode$2 === void 0 ? void 0 : (_adsImage$parentNode$3 = _adsImage$parentNode$2.parentNode) === null || _adsImage$parentNode$3 === void 0 ? void 0 : _adsImage$parentNode$3.parentNode;\n      if (!adsBlock || adsBlock.children.length < 3) {\n        return;\n      }\n      hideViaDisplayProperty(adsBlock);\n    }\n  });\n};\nif (isMatchingHostnames('minigames.mail.ru')) {\n  observeDomChanges(function () {\n    hideSidebarAds$3();\n  });\n}var hideSidebarAds$4 = function hideSidebarAds() {\n  var spanElements = browser.querySelectorAll('span');\n  toConsumableArray(spanElements).forEach(function (span) {\n    if (span.innerText === 'PropellerAds') {\n      var _span$parentNode, _span$parentNode$pare, _span$parentNode$pare2;\n      var adsBlock = span === null || span === void 0 ? void 0 : (_span$parentNode = span.parentNode) === null || _span$parentNode === void 0 ? void 0 : (_span$parentNode$pare = _span$parentNode.parentNode) === null || _span$parentNode$pare === void 0 ? void 0 : (_span$parentNode$pare2 = _span$parentNode$pare.parentNode) === null || _span$parentNode$pare2 === void 0 ? void 0 : _span$parentNode$pare2.parentNode;\n      hideViaPositionProperty(adsBlock);\n    }\n  });\n};\nif (isMatchingHostnames('vidstream.online')) {\n  observeDomChanges(function () {\n    hideSidebarAds$4();\n  });\n}var hideDirectAds = function hideDirectAds() {\n  var suspectedNodes = browser.querySelectorAll('header + div div');\n  toConsumableArray(suspectedNodes).forEach(function (suspectedNode) {\n    var _suspectedNode$childr;\n    if (suspectedNode.classList.length >= 3 && (suspectedNode === null || suspectedNode === void 0 ? void 0 : (_suspectedNode$childr = suspectedNode.children[0]) === null || _suspectedNode$childr === void 0 ? void 0 : _suspectedNode$childr.renderRoot) !== undefined) {\n      hideViaPositionProperty(suspectedNode);\n    }\n  });\n};\nif (isMatchingHostnames('docviewer.yandex.ru', 'docviewer.yandex.kz', 'docviewer.yandex.by', 'docviewer.yandex.ua', 'docviewer.yandex.md')) {\n  observeDomChanges(function () {\n    hideDirectAds();\n  });\n}var hideLiveDirectByStyle = function hideLiveDirectByStyle() {\n  var styleSheets = browser.document.getElementsByTagName('style');\n  toConsumableArray(styleSheets).forEach(function (styleSheet) {\n    var rules = toConsumableArray(safeGetStylesheetRules(styleSheet.sheet));\n    var firstStyleRule = rules[0];\n    if (rules.length > 50 || !firstStyleRule) {\n      return;\n    }\n    if (firstStyleRule.selectorText && /\\s*\"[.a-z0-9]+\"/.test(firstStyleRule.selectorText)) {\n      hideViaPositionProperty(firstStyleRule);\n    }\n  });\n};\nvar leftovers = function leftovers() {\n  var remainBlocks = browser.querySelectorAll('.cat-widget__card-wrap');\n  toConsumableArray(remainBlocks).forEach(function (remainBlock) {\n    var leftover = remainBlock.firstElementChild;\n    if (!leftover) {\n      return;\n    }\n    if (leftover && /ngIf:\\sdirective\\./.test(leftover.innerHTML)) {\n      hideViaPositionProperty(remainBlock);\n    }\n  });\n};\nif (isMatchingHostnames('livejournal.com')) {\n  observeDomChanges(function () {\n    hideLiveDirectByStyle();\n    leftovers();\n  });\n}\nif (isMatchingHostnames('varlamov.ru', 'lena-miro.ru', 'olegmakarenko.ru', 'periskop.su', 'levik.blog')) {\n  observeDomChanges(function () {\n    hideLiveDirectByStyle();\n  });\n}var hideOtzovikAds = function hideOtzovikAds() {\n  var nodeElements = browser.querySelectorAll('div[id]');\n  toConsumableArray(nodeElements).forEach(function (nodeElement) {\n    var _nodeElement$previous, _nodeElement$previous2;\n    var adElementTextContent = nodeElement === null || nodeElement === void 0 ? void 0 : (_nodeElement$previous = nodeElement.previousSibling) === null || _nodeElement$previous === void 0 ? void 0 : (_nodeElement$previous2 = _nodeElement$previous.previousSibling) === null || _nodeElement$previous2 === void 0 ? void 0 : _nodeElement$previous2.textContent;\n    if (!adElementTextContent) {\n      return;\n    }\n    if (adElementTextContent && adElementTextContent.indexOf('Yandex.RTB') > 0) {\n      hideViaPositionProperty(nodeElement);\n    }\n  });\n};\nif (isMatchingHostnames('otzovik.com')) {\n  observeDomChanges(function () {\n    hideOtzovikAds();\n  });\n}var deleteShadowRootParent = function deleteShadowRootParent() {\n  var _contentElement$paren, _contentElement$paren2;\n  var contentElement = browser.document.querySelector('#blockDays');\n  if (!contentElement || (contentElement === null || contentElement === void 0 ? void 0 : (_contentElement$paren = contentElement.parentNode) === null || _contentElement$paren === void 0 ? void 0 : (_contentElement$paren2 = _contentElement$paren.children) === null || _contentElement$paren2 === void 0 ? void 0 : _contentElement$paren2.length) !== 1) {\n    return;\n  }\n  var newContentElement = browser.document.createElement('div');\n  newContentElement.innerHTML = contentElement.innerHTML;\n  var container = contentElement.parentNode;\n  container.id = '';\n  container.innerText = '';\n  newContentElement.id = 'blockDays';\n  newContentElement.className = 'bd1';\n  container.appendChild(newContentElement);\n};\nif (isMatchingHostnames('sinoptik.ua')) {\n  browser.window.addEventListener('DOMContentLoaded', function () {\n    deleteShadowRootParent();\n  });\n}var testExtra = function testExtra() {\n  var testElement = browser.document.querySelector('.extra-test');\n  hideViaDisplayProperty(testElement);\n};\nif (isMatchingHostnames('adguard.com')) {\n  if (browser.location.pathname.endsWith('/test.html')) {\n    observeDomChanges(function () {\n      testExtra();\n    });\n  }\n}var changeLinks = function changeLinks() {\n  var buttons = document.querySelectorAll('.panel-footer > form[action] > button[link]');\n  var forms = document.querySelectorAll('.panel-footer > form[action]');\n  if (buttons.length === forms.length) {\n    for (var a = 0; a < forms.length; a += 1) {\n      var buttonsAttribute = buttons[a].getAttribute('link');\n      forms[a].setAttribute('action', buttonsAttribute);\n      forms[a].setAttribute('target', '_blank');\n    }\n  }\n};\nif (isMatchingHostnames('multiup.org')) {\n  observeDomChanges(function () {\n    changeLinks();\n  });\n}var hideLentaAds = function hideLentaAds() {\n  var feedTitles = browser.querySelectorAll('#lentaFeed > tr > td.newshead');\n  for (var i = 0; i < feedTitles.length; i += 1) {\n    var feedTitle = feedTitles[i];\n    var adTopTitle = feedTitle === null || feedTitle === void 0 ? void 0 : feedTitle.parentNode;\n    var adContent = adTopTitle === null || adTopTitle === void 0 ? void 0 : adTopTitle.nextElementSibling;\n    var adBottomTitle = adContent === null || adContent === void 0 ? void 0 : adContent.nextElementSibling;\n    if (feedTitle.querySelector('.rating-short-value') === null) {\n      hideViaPositionProperty(adTopTitle);\n      hideViaPositionProperty(adContent);\n      hideViaPositionProperty(adBottomTitle);\n    }\n  }\n};\nif (isMatchingHostnames('yaplakal.com', 'yap.ru')) {\n  observeDomChanges(function () {\n    hideLentaAds();\n  });\n}"}]));
